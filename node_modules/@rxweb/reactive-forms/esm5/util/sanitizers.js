import { DateProvider } from './date-provider';
import { ApplicationUtil } from './app-util';
function isNotBlank(value) {
    return (value !== undefined && value !== null && value !== "");
}
function trim(value) {
    if (isNotBlank(value))
        if (typeof value === "string")
            return value.trim();
    return value;
}
;
function ltrim(value) {
    if (isNotBlank(value))
        if (typeof value === "string")
            return value.replace(/^\s+/g, '');
    return value;
}
function rtrim(value) {
    if (isNotBlank(value))
        if (typeof value === "string")
            return value.replace(/\s+$/g, '');
    return value;
}
function blacklist(value, chars) {
    if (isNotBlank(value))
        if (typeof value === "string")
            return value.replace(new RegExp('[$' + chars + ']+', 'g'), '');
    return value;
}
;
function stripLow(value, keepNewLines) {
    var chars = keepNewLines === true ? '\x00-\x09\x0B\x0C\x0E-\x1F\x7F' : '\x00-\x1F\x7F';
    return blacklist(value, chars);
}
function toBoolean(value, strict) {
    if (isNotBlank(value)) {
        if (strict) {
            return value === '1' || value === 'true';
        }
        return value !== '0' && value !== 'false' && value !== '';
    }
    return value;
}
function toFloat(value) {
    if (isNotBlank(value))
        if (ApplicationUtil.isNumeric(value))
            return parseFloat(value);
    return null;
}
function toDouble(value) {
    return toFloat(value);
}
function toInt(value, radix) {
    if (isNotBlank(value))
        if (ApplicationUtil.isNumeric(value))
            return parseInt(value, radix || 10);
    return null;
}
function toString(value, radix) {
    if (isNotBlank(value))
        return String(value);
    return value;
}
function whitelist(value, chars) {
    if (isNotBlank(value))
        if (typeof value === "string")
            return value.replace(new RegExp("[^" + chars + "]+", 'g'), '');
    return value;
}
function toDate(value) {
    var dateProvider = new DateProvider();
    if (isNotBlank(value))
        if (typeof value === "string" && dateProvider.isValid(value)) {
            value = dateProvider.getDate(value);
            return value;
        }
    return null;
}
function escape(value) {
    if (isNotBlank(value))
        return (value.replace(/&/g, '&amp;')
            .replace(/"/g, '&quot;')
            .replace(/'/g, '&#x27;')
            .replace(/</g, '&lt;')
            .replace(/>/g, '&gt;')
            .replace(/\//g, '&#x2F;')
            .replace(/\\/g, '&#x5C;')
            .replace(/`/g, '&#96;'));
    return value;
}
function prefix(value, text) {
    if (isNotBlank(value))
        return "" + text + value;
    return value;
}
function suffix(value, text) {
    if (isNotBlank(value))
        return "" + value + text;
    return value;
}
function sanitize(value, config) {
    return config.custom(value);
}
export var SANITIZERS = {
    trim: trim,
    ltrim: ltrim,
    rtrim: rtrim,
    blacklist: blacklist,
    stripLow: stripLow,
    toBoolean: toBoolean,
    toDouble: toDouble,
    toFloat: toFloat,
    toInt: toInt,
    'toString': toString,
    whitelist: whitelist,
    toDate: toDate,
    escape: escape,
    prefix: prefix,
    suffix: suffix,
    sanitize: sanitize
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2FuaXRpemVycy5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0ByeHdlYi9yZWFjdGl2ZS1mb3Jtcy8iLCJzb3VyY2VzIjpbInV0aWwvc2FuaXRpemVycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUE7QUFDOUMsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLFlBQVksQ0FBQztBQUc3QyxTQUFTLFVBQVUsQ0FBQyxLQUFVO0lBQzFCLE9BQU8sQ0FBQyxLQUFLLEtBQUssU0FBUyxJQUFJLEtBQUssS0FBSyxJQUFJLElBQUksS0FBSyxLQUFLLEVBQUUsQ0FBQyxDQUFDO0FBQ25FLENBQUM7QUFDRCxTQUFTLElBQUksQ0FBQyxLQUFVO0lBQ3BCLElBQUksVUFBVSxDQUFDLEtBQUssQ0FBQztRQUNqQixJQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVE7WUFDekIsT0FBTyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDNUIsT0FBTyxLQUFLLENBQUM7QUFDakIsQ0FBQztBQUFBLENBQUM7QUFFRixTQUFTLEtBQUssQ0FBQyxLQUFVO0lBQ3JCLElBQUksVUFBVSxDQUFDLEtBQUssQ0FBQztRQUNqQixJQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVE7WUFDekIsT0FBTyxLQUFLLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUMsQ0FBQztJQUMxQyxPQUFPLEtBQUssQ0FBQztBQUNqQixDQUFDO0FBRUQsU0FBUyxLQUFLLENBQUMsS0FBVTtJQUNyQixJQUFJLFVBQVUsQ0FBQyxLQUFLLENBQUM7UUFDakIsSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRO1lBQ3pCLE9BQU8sS0FBSyxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDMUMsT0FBTyxLQUFLLENBQUM7QUFDakIsQ0FBQztBQUVELFNBQVMsU0FBUyxDQUFDLEtBQVUsRUFBRSxLQUFTO0lBQ3BDLElBQUksVUFB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QUVwQixTQUFTLEVBQUUsU0FBUztJQUVwQixNQUFNLEVBQUUsTUFBTTtJQUVkLE1BQU0sRUFBRSxNQUFNO0lBRWQsTUFBTSxFQUFFLE1BQU07SUFFZCxNQUFNLEVBQUUsTUFBTTtJQUVkLFFBQVEsRUFBRSxRQUFRO0NBQ3JCLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEYXRlUHJvdmlkZXIgfSBmcm9tICcuL2RhdGUtcHJvdmlkZXInXHJcbmltcG9ydCB7IEFwcGxpY2F0aW9uVXRpbCB9IGZyb20gJy4vYXBwLXV0aWwnO1xyXG5pbXBvcnQgeyBTYW5pdGl6ZUNvbmZpZyB9IGZyb20gJy4uL21vZGVscy9jb25maWcvc2FuaXRpemUtY29uZmlnJ1xyXG5cclxuZnVuY3Rpb24gaXNOb3RCbGFuayh2YWx1ZTogYW55KSB7XHJcbiAgICByZXR1cm4gKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IFwiXCIpO1xyXG59XHJcbmZ1bmN0aW9uIHRyaW0odmFsdWU6IGFueSkge1xyXG4gICAgaWYgKGlzTm90QmxhbmsodmFsdWUpKVxyXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpXHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS50cmltKCk7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBsdHJpbSh2YWx1ZTogYW55KSB7XHJcbiAgICBpZiAoaXNOb3RCbGFuayh2YWx1ZSkpXHJcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIilcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoL15cXHMrL2csICcnKTtcclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG5cclxuZnVuY3Rpb24gcnRyaW0odmFsdWU6IGFueSkge1xyXG4gICAgaWYgKGlzTm90QmxhbmsodmFsdWUpKVxyXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpXHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5yZXBsYWNlKC9cXHMrJC9nLCAnJyk7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGJsYWNrbGlzdCh2YWx1ZTogYW55LCBjaGFyczphbnkpIHtcclxuICAgIGlmIChpc05vdEJsYW5rKHZhbHVlKSlcclxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKVxyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWUucmVwbGFjZShuZXcgUmVnRXhwKCdbJCcgKyBjaGFycyArICddKycsICdnJyksICcnKTtcclxuICAgIHJldHVybiB2YWx1ZTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIHN0cmlwTG93KHZhbHVlOiBhbnksIGtlZXBOZXdMaW5lczogYm9vbGVhbikge1xyXG4gICAgbGV0IGNoYXJzOiBTdHJpbmcgPSBrZWVwTmV3TGluZXMgPT09IHRydWUgPyAnXFx4MDAtXFx4MDlcXHgwQlxceDBDXFx4MEUtXFx4MUZcXHg3RicgOiAnXFx4MDAtXFx4MUZcXHg3Ric7XHJcbiAgICByZXR1cm4gYmxhY2tsaXN0KHZhbHVlLCBjaGFycyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRvQm9vbGVhbih2YWx1ZTogYW55LCBzdHJpY3Q6IGJvb2xlYW4pIHtcclxuICAgIGlmIChpc05vdEJsYW5rKHZhbHVlKSkge1xyXG4gICAgICAgIGlmIChzdHJpY3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09PSAnMScgfHwgdmFsdWUgPT09ICd0cnVlJztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlICE9PSAnMCcgJiYgdmFsdWUgIT09ICdmYWxzZScgJiYgdmFsdWUgIT09ICcnO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XHJcblxyXG5mdW5jdGlvbiB0b0Zsb2F0KHZhbHVlOiBhbnkpIHtcclxuICAgIGlmIChpc05vdEJsYW5rKHZhbHVlKSlcclxuICAgICAgICBpZiAoQXBwbGljYXRpb25VdGlsLmlzTnVtZXJpYyh2YWx1ZSkpXHJcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuZnVuY3Rpb24gdG9Eb3VibGUodmFsdWU6IGFueSkge1xyXG4gICAgcmV0dXJuIHRvRmxvYXQodmFsdWUpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRvSW50KHZhbHVlOiBhbnksIHJhZGl4OiBudW1iZXIpIHtcclxuICAgIGlmIChpc05vdEJsYW5rKHZhbHVlKSlcclxuICAgICAgICBpZiAoQXBwbGljYXRpb25VdGlsLmlzTnVtZXJpYyh2YWx1ZSkpXHJcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludCh2YWx1ZSwgcmFkaXggfHwgMTApO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRvU3RyaW5nKHZhbHVlOiBhbnksIHJhZGl4OiBudW1iZXIpIHtcclxuICAgIGlmIChpc05vdEJsYW5rKHZhbHVlKSlcclxuICAgICAgICByZXR1cm4gU3RyaW5nKHZhbHVlKTtcclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG5mdW5jdGlvbiB3aGl0ZWxpc3QodmFsdWU6IGFueSwgY2hhcnM6IHN0cmluZykge1xyXG4gICAgaWYgKGlzTm90QmxhbmsodmFsdWUpKVxyXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpXHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5yZXBsYWNlKG5ldyBSZWdFeHAoYFteJHtjaGFyc31dK2AsICdnJyksICcnKTtcclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG5cclxuZnVuY3Rpb24gdG9EYXRlKHZhbHVlOiBhbnkpIHtcclxuICAgIHZhciBkYXRlUHJvdmlkZXIgPSBuZXcgRGF0ZVByb3ZpZGVyKCk7XHJcbiAgICBpZiAoaXNOb3RCbGFuayh2YWx1ZSkpXHJcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiBkYXRlUHJvdmlkZXIuaXNWYWxpZCh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgdmFsdWUgPSBkYXRlUHJvdmlkZXIuZ2V0RGF0ZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxufVxyXG5cclxuZnVuY3Rpb24gZXNjYXBlKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgIGlmIChpc05vdEJsYW5rKHZhbHVlKSlcclxuICAgICAgICByZXR1cm4gKHZhbHVlLnJlcGxhY2UoLyYvZywgJyZhbXA7JylcclxuICAgICAgICAgICAgLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgvJy9nLCAnJiN4Mjc7JylcclxuICAgICAgICAgICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgvPi9nLCAnJmd0OycpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXC8vZywgJyYjeDJGOycpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcL2csICcmI3g1QzsnKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgvYC9nLCAnJiM5NjsnKSk7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHByZWZpeCh2YWx1ZTogYW55LCB0ZXh0OiBzdHJpbmcpIHtcclxuICAgIGlmIChpc05vdEJsYW5rKHZhbHVlKSlcclxuICAgICAgICByZXR1cm4gYCR7dGV4dH0ke3ZhbHVlfWA7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN1ZmZpeCh2YWx1ZTogYW55LCB0ZXh0OiBzdHJpbmcpIHtcclxuICAgIGlmIChpc05vdEJsYW5rKHZhbHVlKSlcclxuICAgICAgICByZXR1cm4gYCR7dmFsdWV9JHt0ZXh0fWA7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNhbml0aXplKHZhbHVlOiBhbnksIGNvbmZpZzogU2FuaXRpemVDb25maWcpIHtcclxuICAgIHJldHVybiBjb25maWcuY3VzdG9tKHZhbHVlKVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgU0FOSVRJWkVSUzogeyBba2V5OiBzdHJpbmddOiBGdW5jdGlvbiB9ID0ge1xyXG5cclxuICAgIHRyaW06IHRyaW0sXHJcblxyXG4gICAgbHRyaW06IGx0cmltLFxyXG5cclxuICAgIHJ0cmltOiBydHJpbSxcclxuXHJcbiAgICBibGFja2xpc3Q6IGJsYWNrbGlzdCxcclxuXHJcbiAgICBzdHJpcExvdzogc3RyaXBMb3csXHJcblxyXG4gICAgdG9Cb29sZWFuOiB0b0Jvb2xlYW4sXHJcblxyXG4gICAgdG9Eb3VibGU6IHRvRG91YmxlLFxyXG5cclxuICAgIHRvRmxvYXQ6IHRvRmxvYXQsXHJcblxyXG4gICAgdG9JbnQ6IHRvSW50LFxyXG5cclxuICAgICd0b1N0cmluZyc6IHRvU3RyaW5nLFxyXG5cclxuICAgIHdoaXRlbGlzdDogd2hpdGVsaXN0LFxyXG5cclxuICAgIHRvRGF0ZTogdG9EYXRlLFxyXG5cclxuICAgIGVzY2FwZTogZXNjYXBlLFxyXG5cclxuICAgIHByZWZpeDogcHJlZml4LFxyXG5cclxuICAgIHN1ZmZpeDogc3VmZml4LFxyXG5cclxuICAgIHNhbml0aXplOiBzYW5pdGl6ZVxyXG59Il19