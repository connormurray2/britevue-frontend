import { FormGroupDirective } from "../directives/form-group.directive";
export var formGroupContainer = new (/** @class */ (function () {
    function class_1() {
        this.formGroups = {};
        this.groupKeyElements = {};
        this.formGroupDirectives = {};
    }
    class_1.prototype.get = function (groupKey) {
        return this.formGroups[groupKey];
    };
    class_1.prototype.saveFormGroup = function (formGroup) {
        var groupKey = formGroup.path;
        this.formGroups[formGroup.path] = formGroup;
        this.bindIt(groupKey);
    };
    class_1.prototype.mapElement = function (groupKey, element) {
        this.groupKeyElements[groupKey] = element;
        this.bindIt(groupKey);
    };
    class_1.prototype.bindIt = function (groupKey) {
        var _this = this;
        if (this.groupKeyElements[groupKey] && this.formGroups[groupKey]) {
            setTimeout(function () {
                _this.formGroupDirectives[groupKey] = new FormGroupDirective(_this.groupKeyElements[groupKey], _this.formGroups[groupKey]);
            }, 100);
        }
    };
    class_1.prototype.destroy = function (groupKey) {
        if (this.formGroupDirectives[groupKey]) {
            this.formGroupDirectives[groupKey].destroy();
            delete this.formGroupDirectives[groupKey];
        }
    };
    return class_1;
}()))();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9ybS1ncm91cC5zdGF0ZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0ByeHdlYi9yZWFjdGl2ZS1mb3Jtcy8iLCJzb3VyY2VzIjpbImNvcmUvZm9ybS1ncm91cC5zdGF0ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxvQ0FBb0MsQ0FBQztBQUV4RSxNQUFNLENBQUMsSUFBTSxrQkFBa0IsR0FNdkIsSUFBSTtJQUFDO1FBQ0csZUFBVSxHQUFtQyxFQUFFLENBQUM7UUFFaEQscUJBQWdCLEdBQW1DLEVBQUUsQ0FBQztRQUV0RCx3QkFBbUIsR0FBeUMsRUFBRSxDQUFDO0lBa0MzRSxDQUFDO0lBaENHLHFCQUFHLEdBQUgsVUFBSSxRQUFnQjtRQUNoQixPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDckMsQ0FBQztJQUVELCtCQUFhLEdBQWIsVUFBYyxTQUFzQjtRQUVoQyxJQUFJLFFBQVEsR0FBTyxTQUFTLENBQUMsSUFBSSxDQUFDO1FBQ2xDLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxHQUFHLFNBQVMsQ0FBQztRQUM1QyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzFCLENBQUM7SUFFRCw0QkFBVSxHQUFWLFVBQVcsUUFBZ0IsRUFBRSxPQUFvQjtRQUM3QyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLEdBQUcsT0FBTyxDQUFDO1FBQzFDLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUE7SUFDekIsQ0FBQztJQUVELHdCQUFNLEdBQU4sVUFBTyxRQUFnQjtRQUF2QixpQkFRQztRQVBHLElBQUksSUFBSSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFDOUQsVUFBVSxDQUFDO2dCQUNQLEtBQUksQ0FBQyxtQkFBbUIsQ0FBQyxRQUFRLENBQUMsR0FBRyxJQUFJLGtCQUFrQixDQUFDLEtBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsRUFBRSxLQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDNUgsQ0FBQyxFQUFDLEdBQUcsQ0FBQyxDQUFBO1NBRVQ7SUFFTCxDQUFDO0lBRUQseUJBQU8sR0FBUCxVQUFRLFFBQWdCO1FBQ3BCLElBQUksSUFBSSxDQUFDLG1CQUFtQixDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQ3BDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxRQUFRLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUM3QyxPQUFPLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxRQUFRLENBQUMsQ0FBQztTQUM3QztJQUNMLENBQUM7SUFDTCxjQUFDO0FBQUQsQ0FBQyxBQXZDUSxJQXVDUCxFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSeEZvcm1Hcm91cCB9IGZyb20gXCIuLi9zZXJ2aWNlcy9yeC1mb3JtLWdyb3VwXCI7XHJcbmltcG9ydCB7IEZvcm1Hcm91cERpcmVjdGl2ZSB9IGZyb20gXCIuLi9kaXJlY3RpdmVzL2Zvcm0tZ3JvdXAuZGlyZWN0aXZlXCI7XHJcblxyXG5leHBvcnQgY29uc3QgZm9ybUdyb3VwQ29udGFpbmVyOlxyXG4gICAge1xyXG4gICAgICAgIGdldChncm91cEtleTogc3RyaW5nKTogUnhGb3JtR3JvdXAsXHJcbiAgICAgICAgc2F2ZUZvcm1Hcm91cChmb3JtR3JvdXA6IFJ4Rm9ybUdyb3VwKSxcclxuICAgICAgICBtYXBFbGVtZW50KGdyb3VwS2V5OiBzdHJpbmcsIGVsZW1lbnQ6IEhUTUxFbGVtZW50KSxcclxuICAgICAgICBkZXN0cm95KGdyb3VwS2V5OiBzdHJpbmcpXHJcbiAgICB9ID0gbmV3IChjbGFzcyB7XHJcbiAgICAgICAgcHJpdmF0ZSBmb3JtR3JvdXBzOiB7IFtrZXk6IHN0cmluZ106IFJ4Rm9ybUdyb3VwIH0gPSB7fTtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBncm91cEtleUVsZW1lbnRzOiB7IFtrZXk6IHN0cmluZ106IEhUTUxFbGVtZW50IH0gPSB7fTtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBmb3JtR3JvdXBEaXJlY3RpdmVzOiB7IFtrZXk6IHN0cmluZ106IEZvcm1Hcm91cERpcmVjdGl2ZX0gPSB7fTtcclxuXHJcbiAgICAgICAgZ2V0KGdyb3VwS2V5OiBzdHJpbmcpOiBSeEZvcm1Hcm91cCB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZvcm1Hcm91cHNbZ3JvdXBLZXldO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2F2ZUZvcm1Hcm91cChmb3JtR3JvdXA6IFJ4Rm9ybUdyb3VwKSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgZ3JvdXBLZXk6YW55ID0gZm9ybUdyb3VwLnBhdGg7XHJcbiAgICAgICAgICAgIHRoaXMuZm9ybUdyb3Vwc1tmb3JtR3JvdXAucGF0aF0gPSBmb3JtR3JvdXA7XHJcbiAgICAgICAgICAgIHRoaXMuYmluZEl0KGdyb3VwS2V5KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG1hcEVsZW1lbnQoZ3JvdXBLZXk6IHN0cmluZywgZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5ncm91cEtleUVsZW1lbnRzW2dyb3VwS2V5XSA9IGVsZW1lbnQ7XHJcbiAgICAgICAgICAgIHRoaXMuYmluZEl0KGdyb3VwS2V5KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYmluZEl0KGdyb3VwS2V5OiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ3JvdXBLZXlFbGVtZW50c1tncm91cEtleV0gJiYgdGhpcy5mb3JtR3JvdXBzW2dyb3VwS2V5XSkge1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtR3JvdXBEaXJlY3RpdmVzW2dyb3VwS2V5XSA9IG5ldyBGb3JtR3JvdXBEaXJlY3RpdmUodGhpcy5ncm91cEtleUVsZW1lbnRzW2dyb3VwS2V5XSwgdGhpcy5mb3JtR3JvdXBzW2dyb3VwS2V5XSk7XHJcbiAgICAgICAgICAgICAgICB9LDEwMClcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZGVzdHJveShncm91cEtleTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmZvcm1Hcm91cERpcmVjdGl2ZXNbZ3JvdXBLZXldKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZvcm1Hcm91cERpcmVjdGl2ZXNbZ3JvdXBLZXldLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmZvcm1Hcm91cERpcmVjdGl2ZXNbZ3JvdXBLZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSkoKTsiXX0=