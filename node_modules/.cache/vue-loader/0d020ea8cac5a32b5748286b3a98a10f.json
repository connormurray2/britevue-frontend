{"remainingRequest":"/home/cmurray/britevue-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cmurray/britevue-frontend/src/components/ImageModal/ImageModal.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/cmurray/britevue-frontend/src/components/ImageModal/ImageModal.vue","mtime":1628691920056},{"path":"/home/cmurray/britevue-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/cmurray/britevue-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/cmurray/britevue-frontend/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/cmurray/britevue-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/cmurray/britevue-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQgeyBDb21wb25lbnQsIFZ1ZSwgUHJvcCB9IGZyb20gInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IiOwoKdHlwZSBQbGFjZUltYWdlID0gewogIHBob3RvX3JlZmVyZW5jZTogc3RyaW5nOwogIHVybDogc3RyaW5nOwp9OwoKQENvbXBvbmVudApleHBvcnQgZGVmYXVsdCBjbGFzcyBNb2RhbCBleHRlbmRzIFZ1ZSB7CiAgQFByb3AoKSBwbGFjZU5hbWUhOiBzdHJpbmc7CiAgQFByb3AoeyBkZWZhdWx0OiBmYWxzZSB9KSBzaG93SW1hZ2VNb2RhbCE6IGJvb2xlYW47CiAgQFByb3AoKSBtYWluSW1hZ2VNb2RlbCE6IHN0cmluZzsKICBAUHJvcCgpIG1haW5JbWFnZUluZGV4ITogbnVtYmVyOwogIEBQcm9wKCkgc291cmNlITogc3RyaW5nOwogIGN1cnJlbnRfaW1hZ2U6IHN0cmluZzsKICBjdXJyZW50X2luZGV4OiBudW1iZXI7CiAgQFByb3AoewogICAgZGVmYXVsdDogewogICAgICBwaG90b19yZWZlcmVuY2U6ICIiCiAgICB9LAogIH0pCgoKICBpbWFnZXNMaXN0ITogW1BsYWNlSW1hZ2VdOwogIGNvbnN0cnVjdG9yKCkgewogICAgc3VwZXIoKTsKICAgIHRoaXMuY3VycmVudF9pbWFnZT0nJzsKICAgIHRoaXMuY3VycmVudF9pbmRleD0wOwogICAgY29uc29sZS5sb2codGhpcy5pbWFnZXNMaXN0KTsKCiAgfQogIGFzeW5jIG1vdW50ZWQoKXsKICAgIHRoaXMuY3VycmVudF9pbmRleD0wOwogICAgaWYodGhpcy5zb3VyY2U9PSdnb29nbGUnKXsKICAgICAgdGhpcy5jdXJyZW50X2ltYWdlPXRoaXMuaW1hZ2VzTGlzdFswXS5waG90b19yZWZlcmVuY2U7CiAgICB9ZWxzZXsKICAgICAgdGhpcy5jdXJyZW50X2ltYWdlPXRoaXMuaW1hZ2VzTGlzdFswXS51cmw7CiAgICB9CgoKICB9CgogIHNldEltYWdlKGltYWdlOiBzdHJpbmcpIHsKICAgIHRoaXMuY3VycmVudF9pbWFnZSA9IGltYWdlOwogIH0KICBzZXRJbmRleChpbmRleDogbnVtYmVyKSB7CiAgICB0aGlzLmN1cnJlbnRfaW5kZXggPSBpbmRleDsKICB9CiAgbmV4dEltYWdlKCl7CgogICAgaWYodGhpcy5jdXJyZW50X2luZGV4IDwgdGhpcy5pbWFnZXNMaXN0Lmxlbmd0aCl7CiAgICAgIHRoaXMuY3VycmVudF9pbmRleCs9MTsKICAgICAgaWYodGhpcy5zb3VyY2U9PSdnb29nbGUnKXsKICAgICAgICB0aGlzLmN1cnJlbnRfaW1hZ2U9dGhpcy5pbWFnZXNMaXN0W3RoaXMuY3VycmVudF9pbmRleF0ucGhvdG9fcmVmZXJlbmNlOwogICAgICB9ZWxzZXsKICAgICAgICB0aGlzLmN1cnJlbnRfaW1hZ2U9dGhpcy5pbWFnZXNMaXN0W3RoaXMuY3VycmVudF9pbmRleF0udXJsOwogICAgICB9CgogICAgfQogIH0KICBwcmV2aW91c0ltYWdlKCl7CiAgICBpZih0aGlzLmN1cnJlbnRfaW5kZXggPiAwKXsKICAgICAgdGhpcy5jdXJyZW50X2luZGV4LT0xOwogICAgICBpZih0aGlzLnNvdXJjZT09J2dvb2dsZScpewogICAgICAgIHRoaXMuY3VycmVudF9pbWFnZT10aGlzLmltYWdlc0xpc3RbdGhpcy5jdXJyZW50X2luZGV4XS5waG90b19yZWZlcmVuY2U7CiAgICAgIH1lbHNlewogICAgICAgIHRoaXMuY3VycmVudF9pbWFnZT10aGlzLmltYWdlc0xpc3RbdGhpcy5jdXJyZW50X2luZGV4XS51cmw7CiAgICAgIH0KCiAgICB9CiAgfQogIGNoYW5nZUltYWdlKGluZGV4OiBudW1iZXIpewogICAgdGhpcy5jdXJyZW50X2luZGV4PWluZGV4OwogICAgaWYodGhpcy5zb3VyY2U9PSdnb29nbGUnKXsKICAgICAgdGhpcy5jdXJyZW50X2ltYWdlPXRoaXMuaW1hZ2VzTGlzdFt0aGlzLmN1cnJlbnRfaW5kZXhdLnBob3RvX3JlZmVyZW5jZTsKICAgIH1lbHNlewogICAgICB0aGlzLmN1cnJlbnRfaW1hZ2U9dGhpcy5pbWFnZXNMaXN0W3RoaXMuY3VycmVudF9pbmRleF0udXJsOwogICAgfQogIH0KICBjbG9zZU1vZGFsKCl7CiAgICB0aGlzLiRidk1vZGFsLmhpZGUoJ2J2LW1vZGFsLWV4YW1wbGUnKTsKICAgIHRoaXMuc2hvd0ltYWdlTW9kYWwgPSAhdGhpcy5zaG93SW1hZ2VNb2RhbDsKICB9Cn0K"},{"version":3,"sources":["ImageModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ImageModal.vue","sourceRoot":"src/components/ImageModal","sourcesContent":["<template>\n  <div>\n    <b-modal\n      id=\"bv-modal-example\"\n      v-model=\"showImageModal\"\n       size=\"xl\"\n      hide-footer\n      hide-header\n      @hide=\"closeModal\"\n    >      \n            <div class=\"modal-image\">\n                <div class=\"row\">\n                <div class=\"col-12 col-lg-8\">\n                    <div class=\"modal-image__main\">\n                      <button id='previous' @click=\"previousImage()\" class=\"modal-image__arrow modal-image__arrow--left\"><font-awesome-icon :icon=\"['far', 'chevron-left']\" /></button>\n                      <button id='next' @click=\"nextImage()\" class=\"modal-image__arrow modal-image__arrow--right\"><font-awesome-icon :icon=\"['far', 'chevron-right']\" /></button>\n                        <div class=\"\">\n                          <img v-if=\"source=='google'\" :src=\"`https://maps.googleapis.com/maps/api/place/photo?key=AIzaSyDMqrI8hMqiyIPdQUkRUerdohx28Fuv4wE&photo_reference=`+current_image+`&maxwidth=300`\" alt=\"photo.alt\" class=\"modal-image__main-image\"/>\n                          <img v-else :src=\"current_image\"  alt=\"photo.alt\" class=\"modal-image__main-image\"/>\n                        </div>\n                        <!--<div class=\"row\">\n                            <div class=\"col\">\n                                  <div class=\"modal-image__user-info\">\n                                      <div class=\"row align-items-center\">\n                                          <div class=\"col-auto pr-0\">\n                                              <img :src=\"`https://maps.googleapis.com/maps/api/place/photo?key=AIzaSyDMqrI8hMqiyIPdQUkRUerdohx28Fuv4wE&photo_reference=`+imagesList[0].photo_reference+`&maxwidth=300`\" alt=\"\" class=\"modal-image__user-image\">\n                                          <p>{{mainImageModel}}</p>\n                                          </div>\n                                          <div class=\"col\">\n                                              <p class=\"modal-image__user-name\">John Doe</p>\n                                          </div>\n                                      </div>\n                                  </div>\n                                <div class=\"col\"></div>\n                            </div>\n                        </div>-->\n                    </div>\n                </div>\n                <div class=\"col-12 col-lg-4 pl-lg-0\">\n                    <div class=\"modal-image__list\">\n                        <div class=\"modal-image__close\" @click=\"closeModal()\">\n                            <font-awesome-icon :icon=\"['far', 'times']\" />\n                        </div>\n                        <h4 class=\"modal-header__title\">Photos for {{ placeName }}</h4>\n                        <div class=\"row mx-n1 modal-image__list-images\">\n                            <div class=\"col-4 px-1 mb-2\" v-for=\"(photo,index) in imagesList\"\n                        :key=\"photo.alt\">\n                                <img v-if=\"source=='google'\" @click=\"changeImage(index)\"\n                        :src=\"`https://maps.googleapis.com/maps/api/place/photo?key=AIzaSyDMqrI8hMqiyIPdQUkRUerdohx28Fuv4wE&photo_reference=`+photo.photo_reference+`&maxwidth=300`\"\n                        :alt=\"photo.alt\"\n                        />\n                              <img v-else @click=\"changeImage(index)\"\n                                   :src=\"photo.url\"\n\n                              />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                </div>\n            </div>\n    </b-modal>\n  </div>\n</template>\n\n<style lang=\"scss\" src=\"./ImageModal.scss\"></style>\n\n<script lang=\"ts\">\nimport { Component, Vue, Prop } from \"vue-property-decorator\";\n\ntype PlaceImage = {\n  photo_reference: string;\n  url: string;\n};\n\n@Component\nexport default class Modal extends Vue {\n  @Prop() placeName!: string;\n  @Prop({ default: false }) showImageModal!: boolean;\n  @Prop() mainImageModel!: string;\n  @Prop() mainImageIndex!: number;\n  @Prop() source!: string;\n  current_image: string;\n  current_index: number;\n  @Prop({\n    default: {\n      photo_reference: \"\"\n    },\n  })\n\n\n  imagesList!: [PlaceImage];\n  constructor() {\n    super();\n    this.current_image='';\n    this.current_index=0;\n    console.log(this.imagesList);\n\n  }\n  async mounted(){\n    this.current_index=0;\n    if(this.source=='google'){\n      this.current_image=this.imagesList[0].photo_reference;\n    }else{\n      this.current_image=this.imagesList[0].url;\n    }\n\n\n  }\n\n  setImage(image: string) {\n    this.current_image = image;\n  }\n  setIndex(index: number) {\n    this.current_index = index;\n  }\n  nextImage(){\n\n    if(this.current_index < this.imagesList.length){\n      this.current_index+=1;\n      if(this.source=='google'){\n        this.current_image=this.imagesList[this.current_index].photo_reference;\n      }else{\n        this.current_image=this.imagesList[this.current_index].url;\n      }\n\n    }\n  }\n  previousImage(){\n    if(this.current_index > 0){\n      this.current_index-=1;\n      if(this.source=='google'){\n        this.current_image=this.imagesList[this.current_index].photo_reference;\n      }else{\n        this.current_image=this.imagesList[this.current_index].url;\n      }\n\n    }\n  }\n  changeImage(index: number){\n    this.current_index=index;\n    if(this.source=='google'){\n      this.current_image=this.imagesList[this.current_index].photo_reference;\n    }else{\n      this.current_image=this.imagesList[this.current_index].url;\n    }\n  }\n  closeModal(){\n    this.$bvModal.hide('bv-modal-example');\n    this.showImageModal = !this.showImageModal;\n  }\n}\n</script>\n"]}]}