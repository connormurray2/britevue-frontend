{"remainingRequest":"/home/cmurray/britevue-frontend/node_modules/babel-loader/lib/index.js!/home/cmurray/britevue-frontend/node_modules/ts-loader/index.js??ref--14-2!/home/cmurray/britevue-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/cmurray/britevue-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cmurray/britevue-frontend/src/views/Dashboard/Place/Place.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/cmurray/britevue-frontend/src/views/Dashboard/Place/Place.vue","mtime":1628691920057},{"path":"/home/cmurray/britevue-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/cmurray/britevue-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/cmurray/britevue-frontend/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/cmurray/britevue-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/cmurray/britevue-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIi9ob21lL2NtdXJyYXkvYnJpdGV2dWUtZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvY211cnJheS9icml0ZXZ1ZS1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL2hvbWUvY211cnJheS9icml0ZXZ1ZS1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9ob21lL2NtdXJyYXkvYnJpdGV2dWUtZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICIvaG9tZS9jbXVycmF5L2JyaXRldnVlLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyI7CmltcG9ydCBfY3JlYXRlU3VwZXIgZnJvbSAiL2hvbWUvY211cnJheS9icml0ZXZ1ZS1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIiOwppbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSAidHNsaWIiOwppbXBvcnQgeyBDb21wb25lbnQsIEluamVjdCwgVnVlIH0gZnJvbSAidnVlLXByb3BlcnR5LWRlY29yYXRvciI7CmltcG9ydCB7IExvYWRlciB9IGZyb20gImdvb2dsZS1tYXBzIjsKaW1wb3J0IFRpcCBmcm9tICJAL2NvbXBvbmVudHMvVGlwL1RpcC52dWUiOwppbXBvcnQgTG9naW4gZnJvbSAiQC9jb21wb25lbnRzL0xvZ2luL0xvZ2luLnZ1ZSI7CmltcG9ydCBTaWdudXAgZnJvbSAiQC9jb21wb25lbnRzL1NpZ251cC9TaWdudXAudnVlIjsKaW1wb3J0IE1vZGFsIGZyb20gIkAvY29tcG9uZW50cy9Nb2RhbC9Nb2RhbC52dWUiOwppbXBvcnQgSW1hZ2VNb2RhbCBmcm9tICJAL2NvbXBvbmVudHMvSW1hZ2VNb2RhbC9JbWFnZU1vZGFsLnZ1ZSI7CmltcG9ydCBSZXZpZXdJbWFnZU1vZGFsIGZyb20gIkAvY29tcG9uZW50cy9JbWFnZU1vZGFsL1Jldmlld0ltYWdlTW9kYWwudnVlIjsKCnZhciBQbGFjZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1Z1ZSkgewogIF9pbmhlcml0cyhQbGFjZSwgX1Z1ZSk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoUGxhY2UpOwoKICBmdW5jdGlvbiBQbGFjZSgpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGxhY2UpOwoKICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcyk7CiAgICBfdGhpcy5yZXZpZXdzID0gW107CiAgICBfdGhpcy5wcm9maWxlID0gbnVsbDsKICAgIF90aGlzLmZpbGVzID0gW107CiAgICBfdGhpcy5wbGFjZV9pZCA9ICcnOwogICAgX3RoaXMuc2hvd1Jldmlld3MgPSA2OwoKICAgIGlmICh0eXBlb2YgX3RoaXMuJHJvdXRlLnBhcmFtcy5pZCAhPSAndW5kZWZpbmVkJykgewogICAgICBfdGhpcy5wbGFjZV9pZCA9IF90aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICB9IGVsc2UgewogICAgICBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICJkYXNoYm9hcmQiCiAgICAgIH0pOwogICAgfQoKICAgIF90aGlzLnBsYWNlID0gbnVsbDsKICAgIF90aGlzLnN0ZXAgPSAwOwogICAgX3RoaXMudXBsb2FkUHJvZ3Jlc3MgPSAwOwogICAgX3RoaXMuc2hvd1VwbG9hZFByb2dyZXNzQmFyID0gZmFsc2U7CiAgICBfdGhpcy5sb2FkaW5nUmV2aWV3cyA9IHRydWU7CiAgICBfdGhpcy5sb2FkaW5nUGxhY2UgPSB0cnVlOwogICAgX3RoaXMub3B0aW9ucyA9IHsKICAgICAgdGV4dDogewogICAgICAgIGNvbG9yOiAnI0ZGRkZGRicsCiAgICAgICAgc2hhZG93RW5hYmxlOiB0cnVlLAogICAgICAgIHNoYWRvd0NvbG9yOiAnIzAwMDAwMCcsCiAgICAgICAgZm9udFNpemU6IDE0LAogICAgICAgIGZvbnRGYW1pbHk6ICdIZWx2ZXRpY2EnLAogICAgICAgIGR5bmFtaWNQb3NpdGlvbjogZmFsc2UsCiAgICAgICAgaGlkZVRleHQ6IGZhbHNlCiAgICAgIH0sCiAgICAgIHByb2dyZXNzOiB7CiAgICAgICAgY29sb3I6ICcjY2M3YTAwJywKICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMzMzMzMzJwogICAgICB9LAogICAgICBsYXlvdXQ6IHsKICAgICAgICBoZWlnaHQ6IDM1LAogICAgICAgIHdpZHRoOiAxNDAsCiAgICAgICAgdmVydGljYWxUZXh0QWxpZ246IDYxLAogICAgICAgIGhvcml6b250YWxUZXh0QWxpZ246IDQzLAogICAgICAgIHplcm9PZmZzZXQ6IDAsCiAgICAgICAgc3Ryb2tlV2lkdGg6IDMwLAogICAgICAgIHByb2dyZXNzUGFkZGluZzogMCwKICAgICAgICB0eXBlOiAnbGluZScKICAgICAgfQogICAgfTsKCiAgICBfdGhpcy51c2VyX3NlcnZpY2UudXBkYXRlVXNlckxvY2FsU3RvcmFnZSgiIik7CgogICAgdmFyIHVzZXIgPSBfdGhpcy51c2VyX3NlcnZpY2UuZ2V0Q3VycmVudFVzZXIoKTsKCiAgICBpZiAodXNlcikgewogICAgICBfdGhpcy5wcm9maWxlID0gdXNlcjsgLy9jaGVjayB1c2VyIHRva2VuIGlzIGV4cGlyZWQKCiAgICAgIHZhciBjaGVja1VzZXIgPSBfdGhpcy51c2VyX3NlcnZpY2UuZ2V0VXNlcihfdGhpcy5wcm9maWxlLmlkKTsKICAgIH0KCiAgICBfdGhpcy50aXBTdGF0dXMgPSBmYWxzZTsKICAgIF90aGlzLmlzRmF2b3JpdGUgPSBmYWxzZTsKICAgIF90aGlzLnNob3dIYW5kY2FzaE1vZGFsID0gZmFsc2U7CiAgICBfdGhpcy5zaG93R29vZ2xlSW1hZ2VNb2RhbCA9IGZhbHNlOwogICAgX3RoaXMuc2hvd0JyaXRldnVlSW1hZ2VNb2RhbCA9IGZhbHNlOwogICAgX3RoaXMubWFpbkltYWdlTW9kZWwgPSAnJzsKICAgIF90aGlzLm1haW5JbWFnZUluZGV4ID0gMDsKICAgIF90aGlzLnJldmlld1Bob3RvcyA9IFtdOwogICAgX3RoaXMuc2hvd1Jldmlld0ltYWdlTW9kYWwgPSBmYWxzZTsKICAgIF90aGlzLm1haW5SZXZpZXdJbWFnZU1vZGVsID0gJyc7CiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoUGxhY2UsIFt7CiAgICBrZXk6ICJtb3VudGVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfbW91bnRlZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgdG9rZW5PYmo7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEodGhpcy4kcm91dGUucXVlcnkudG9rZW4gIT0gbnVsbCAmJiB0aGlzLiRyb3V0ZS5xdWVyeS51c2VybmFtZSAhPSBudWxsKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdG9rZW5PYmogPSB7CiAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLiRyb3V0ZS5xdWVyeS51c2VybmFtZSwKICAgICAgICAgICAgICAgICAgdG9rZW46IHRoaXMuJHJvdXRlLnF1ZXJ5LnRva2VuLAogICAgICAgICAgICAgICAgICBleHBpcmVzX2F0OiB0aGlzLiRyb3V0ZS5xdWVyeS5leHBpcmVzX2F0CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgSlNPTi5zdHJpbmdpZnkodG9rZW5PYmopKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudXNlcl9zZXJ2aWNlLnVwZGF0ZVVzZXJMb2NhbFN0b3JhZ2UodGhpcy4kcm91dGUucXVlcnkudXNlcm5hbWUpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnVzZXJfc2VydmljZS51cGRhdGVVc2VyTG9jYWxTdG9yYWdlKCIiKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDk7CiAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmdQbGFjZSA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkUGxhY2VEZXRhaWwoKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvYWRNYXAoKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZ1BsYWNlID0gZmFsc2U7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkUmV2aWV3cygpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tQbGFjZUlzRmF2b3JpdGUoKTsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyNTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDIyOwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSg5KTsKICAgICAgICAgICAgICAgIHRoaXMub3BlbkxvZ2luKCk7CgogICAgICAgICAgICAgIGNhc2UgMjU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzLCBbWzksIDIyXV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgICAgIHJldHVybiBfbW91bnRlZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gbW91bnRlZDsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImRlbGV0ZVJldmlldyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2RlbGV0ZVJldmlldyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIocmV2aWV3X2lkKSB7CiAgICAgICAgdmFyIF9kZWxldGVSZXZpZXcyOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrVXNlcldhbGxldCgpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFjb25maXJtKCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgcmV2aWV3JykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXZpZXdzX3Nlci5kZWxldGVSZXZpZXcocmV2aWV3X2lkKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX2RlbGV0ZVJldmlldzIgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoX2RlbGV0ZVJldmlldzIuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICAgICAgICB0aGlzLnJldmlld3MgPSBbXTsKICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkUmV2aWV3cygpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgdGhpcy5mbGFzaCgiSGFkIGEgcHJvYmxlbSBkZWxldGluZyByZXZpZXciLCAnZXJyb3InLCB7CiAgICAgICAgICAgICAgICAgICAgdGltZW91dDogMTAwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGRlbGV0ZVJldmlldyhfeCkgewogICAgICAgIHJldHVybiBfZGVsZXRlUmV2aWV3LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBkZWxldGVSZXZpZXc7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJlZGl0UmV2aWV3IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZWRpdFJldmlldyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMocGxhY2VfaWQsIHBsYWNlX25hbWUsIHJldmlld19pZCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGVja1VzZXJXYWxsZXQoKSkgewogICAgICAgICAgICAgICAgICB0aGlzLmdldFJvdXRlUGF0aCgnbmV3X3JldmlldycsIHsKICAgICAgICAgICAgICAgICAgICAncGxhY2VfaWQnOiBwbGFjZV9pZCwKICAgICAgICAgICAgICAgICAgICAncGxhY2VfbmFtZSc6IHBsYWNlX25hbWUsCiAgICAgICAgICAgICAgICAgICAgJ3Jldmlld19pZCc6IHJldmlld19pZAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZWRpdFJldmlldyhfeDIsIF94MywgX3g0KSB7CiAgICAgICAgcmV0dXJuIF9lZGl0UmV2aWV3LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBlZGl0UmV2aWV3OwogICAgfSgpCiAgfSwgewogICAga2V5OiAibG9hZFBsYWNlRGV0YWlsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfbG9hZFBsYWNlRGV0YWlsID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgYnJpdGVfcGxhY2UsIGdvb2dsZV9wbGFjZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGxhY2Vfc2VyLmdldEJyaXRlTG9jYXRpb24odGhpcy5wbGFjZV9pZCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGJyaXRlX3BsYWNlID0gX2NvbnRleHQ0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCEoYnJpdGVfcGxhY2Uuc3RhdHVzID09IDIwMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aGlzLnBsYWNlID0gYnJpdGVfcGxhY2UuZGF0YTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGxhY2Vfc2VyLmdldEdvb2dsZUxvY2F0aW9uKHRoaXMucGxhY2VfaWQpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBnb29nbGVfcGxhY2UgPSBfY29udGV4dDQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoZ29vZ2xlX3BsYWNlLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgdGhpcy5wbGFjZSA9IGdvb2dsZV9wbGFjZS5kYXRhOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChicml0ZV9wbGFjZS5zdGF0dXMgPT0gNTAwICYmIGdvb2dsZV9wbGFjZS5zdGF0dXMgPT0gNTAwKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuZmxhc2goIlBsYWNlIE5vdCBGb3VuZCIsICdlcnJvcicsIHsKICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiAxMDAwMAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGxvYWRQbGFjZURldGFpbCgpIHsKICAgICAgICByZXR1cm4gX2xvYWRQbGFjZURldGFpbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gbG9hZFBsYWNlRGV0YWlsOwogICAgfSgpCiAgfSwgewogICAga2V5OiAibG9hZE1hcCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2xvYWRNYXAgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHZhciBvcHRpb25zLCBsb2FkZXIsIGdvb2dsZSwgY29uLCBsYXQsIGxuZzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgb3B0aW9ucyA9IHsKICAgICAgICAgICAgICAgICAgLyogdG9kbyAqLwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGxvYWRlciA9IG5ldyBMb2FkZXIoJ0FJemFTeURNcXJJOGhNcWl5SVBkUVVrUlVlcmRvaHgyOEZ1djR3RScsIG9wdGlvbnMpOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGxvYWRlci5sb2FkKCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIGdvb2dsZSA9IF9jb250ZXh0NS5zZW50OwoKICAgICAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkqLwogICAgICAgICAgICAgICAgY29uID0gdGhpcy4kcmVmcy5tYXA7CiAgICAgICAgICAgICAgICBsYXQgPSAtMzQuMzk3OwogICAgICAgICAgICAgICAgbG5nID0gMTUwLjY0NDsKCiAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGFjZSAhPSBudWxsICYmIHRoaXMucGxhY2UuZ2VvbWV0cnkgIT0gbnVsbCAmJiB0aGlzLnBsYWNlLmdlb21ldHJ5LmxvY2F0aW9uICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgbGF0ID0gdGhpcy5wbGFjZS5nZW9tZXRyeS5sb2NhdGlvbi5sYXQ7CiAgICAgICAgICAgICAgICAgIGxuZyA9IHRoaXMucGxhY2UuZ2VvbWV0cnkubG9jYXRpb24ubG5nOwogICAgICAgICAgICAgICAgfSAvL2xvYWQgbWFwCgoKICAgICAgICAgICAgICAgIG5ldyBnb29nbGUubWFwcy5NYXAoY29uLCB7CiAgICAgICAgICAgICAgICAgIGNlbnRlcjogewogICAgICAgICAgICAgICAgICAgIGxhdDogbGF0LAogICAgICAgICAgICAgICAgICAgIGxuZzogbG5nCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIHpvb206IDE1CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGxvYWRNYXAoKSB7CiAgICAgICAgcmV0dXJuIF9sb2FkTWFwLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBsb2FkTWFwOwogICAgfSgpCiAgfSwgewogICAga2V5OiAidGlwIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0aXAoYW1vdW50KSB7CiAgICAgIGNvbnNvbGUubG9nKCd0aXBwaW5nOicsIGFtb3VudCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ29Ub1Bob3RvcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ29Ub1Bob3RvcygpIHsKICAgICAgdGhpcy5nZXRSb3V0ZVBhdGgoJ3BsYWNlX3Bob3RvcycsIHsKICAgICAgICAncGxhY2UnOiB0aGlzLnBsYWNlCiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImxvYWRSZXZpZXdzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfbG9hZFJldmlld3MgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICAgIHZhciByZXZpZXdzLCBpLCB1c2VySW5mbzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nUmV2aWV3cyA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXZpZXdzX3Nlci5nZXRQbGFjZVJldmlld3ModGhpcy5wbGFjZV9pZCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJldmlld3MgPSBfY29udGV4dDYuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIShyZXZpZXdzLnN0YXR1cyA9PSAyMDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldmlld3MgPSByZXZpZXdzLmRhdGE7CiAgICAgICAgICAgICAgICBpID0gMDsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgaWYgKCEoaSA8IHJldmlld3MubGVuZ3RoKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudXNlcl9zZXJ2aWNlLmdldFVzZXIocmV2aWV3c1tpXS51c2VyKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIHVzZXJJbmZvID0gX2NvbnRleHQ2LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHVzZXJJbmZvLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgcmV2aWV3c1tpXS51c2VySW5mbyA9IHVzZXJJbmZvLmRhdGE7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBpKys7CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIHRoaXMucmV2aWV3cyA9IHJldmlld3M7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmdSZXZpZXdzID0gZmFsc2U7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBsb2FkUmV2aWV3cygpIHsKICAgICAgICByZXR1cm4gX2xvYWRSZXZpZXdzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBsb2FkUmV2aWV3czsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImNsb3NpbmdUaW1lIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9zaW5nVGltZSgpIHsKICAgICAgdmFyIGR0ID0gbmV3IERhdGUoKTsKICAgICAgdmFyIGRheU9mVGhlV2VlayA9IGR0LmdldERheSgpOwoKICAgICAgaWYgKHRoaXMucGxhY2UgPT0gbnVsbCB8fCB0aGlzLnBsYWNlLm9wZW5pbmdfaG91cnMgPT0gbnVsbCB8fCB0aGlzLnBsYWNlLm9wZW5pbmdfaG91cnMucGVyaW9kcyA9PSBudWxsKSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CgogICAgICB2YXIgaG91cnM7CiAgICAgIHZhciBtaW51dGVzOwogICAgICB2YXIgc2hpZnQ7CgogICAgICBpZiAodGhpcy5wbGFjZS5vcGVuaW5nX2hvdXJzLm9wZW5fbm93ID09IHRydWUpIHsKICAgICAgICBpZiAodGhpcy5wbGFjZS5vcGVuaW5nX2hvdXJzLnBlcmlvZHMubGVuZ3RoID09IDcpIHsKICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5wbGFjZS5vcGVuaW5nX2hvdXJzLnBlcmlvZHNbZGF5T2ZUaGVXZWVrXS5jbG9zZS50aW1lICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgIGhvdXJzID0gdGhpcy5wbGFjZS5vcGVuaW5nX2hvdXJzLnBlcmlvZHNbZGF5T2ZUaGVXZWVrXS5jbG9zZS50aW1lLnN1YnN0cmluZygwLCAyKTsKICAgICAgICAgICAgbWludXRlcyA9IHRoaXMucGxhY2Uub3BlbmluZ19ob3Vycy5wZXJpb2RzW2RheU9mVGhlV2Vla10uY2xvc2UudGltZS5zdWJzdHJpbmcoMiwgNCk7CiAgICAgICAgICAgIHNoaWZ0ID0gJ0FNJzsKCiAgICAgICAgICAgIGlmIChob3VycyA+IDEyKSB7CiAgICAgICAgICAgICAgaG91cnMgLT0gMTI7CiAgICAgICAgICAgICAgc2hpZnQgPSAnUE0nOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gaG91cnMgKyAnOicgKyBtaW51dGVzICsgJyAnICsgc2hpZnQ7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBsYWNlLm9wZW5pbmdfaG91cnMucGVyaW9kcy5jb3VudCA9PSAxKSB7CiAgICAgICAgICBpZiAodHlwZW9mIHRoaXMucGxhY2Uub3BlbmluZ19ob3Vycy5wZXJpb2RzWzBdLmNsb3NlLnRpbWUgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgaG91cnMgPSB0aGlzLnBsYWNlLm9wZW5pbmdfaG91cnMucGVyaW9kc1swXS5jbG9zZS50aW1lLnN1YnN0cmluZygwLCAyKTsKICAgICAgICAgICAgbWludXRlcyA9IHRoaXMucGxhY2Uub3BlbmluZ19ob3Vycy5wZXJpb2RzWzBdLmNsb3NlLnRpbWUuc3Vic3RyaW5nKDIsIDQpOwogICAgICAgICAgICBzaGlmdCA9ICdBTSc7CgogICAgICAgICAgICBpZiAoaG91cnMgPiAxMikgewogICAgICAgICAgICAgIGhvdXJzIC09IDEyOwogICAgICAgICAgICAgIHNoaWZ0ID0gJ1BNJzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIGhvdXJzICsgJzonICsgbWludXRlcyArICcgJyArIHNoaWZ0OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuICcnOwogICAgfQogIH0sIHsKICAgIGtleTogImltYWdlVXJsQWx0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpbWFnZVVybEFsdChldmVudCkgewogICAgICBldmVudC50YXJnZXQuc3JjID0gcmVxdWlyZSgnQC9hc3NldHMvaW1hZ2VzL25vLXBob3RvLWF2YXRhci5wbmcnKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRSb3V0ZVBhdGgiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFJvdXRlUGF0aChuYW1lLCBwYXJhbWV0ZXJzKSB7CiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICBwYXJhbXM6IHBhcmFtZXRlcnMKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAic29ydFJldmlld3MiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNvcnRSZXZpZXdzKCkgewogICAgICB2YXIgc29ydFJldmlldyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzb3J0LXJldmlld3MnKTsKCiAgICAgIGlmIChzb3J0UmV2aWV3LnZhbHVlID09ICduYW1lJykgewogICAgICAgIHRoaXMucmV2aWV3cy5zb3J0KGZ1bmN0aW9uIChuMSwgbjIpIHsKICAgICAgICAgIGlmIChuMS51c2VyID4gbjIudXNlcikgewogICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAobjEudXNlciA8IG4yLnVzZXIpIHsKICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0pOwogICAgICB9CgogICAgICBpZiAoc29ydFJldmlldy52YWx1ZSA9PSAnZGF0ZScpIHsKICAgICAgICB0aGlzLnJldmlld3Muc29ydChmdW5jdGlvbiAobjEsIG4yKSB7CiAgICAgICAgICBpZiAobjEudGltZXN0YW1wID4gbjIudGltZXN0YW1wKSB7CiAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChuMS50aW1lc3RhbXAgPCBuMi50aW1lc3RhbXApIHsKICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAic2hvd01vcmVSZXZpZXdzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93TW9yZVJldmlld3MoKSB7CiAgICAgIHRoaXMuc2hvd1Jldmlld3MgKz0gNjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ1cHZvdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF91cHZvdGUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KHJldmlld19pZCwgZSkgewogICAgICAgIHZhciBzcGlubmVyLCB1cHZvdGVFbGVtZW50LCB1cHZvdGVJY29uLCByZXMsIHVwdm90ZVJlc3VsdCwgdm90ZSwgbXNnOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CgogICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrVXNlcldhbGxldCgpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHNwaW5uZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXB2b3RlLXNwaW5uZXItJyArIHJldmlld19pZCk7CiAgICAgICAgICAgICAgICB1cHZvdGVFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Vwdm90ZS0nICsgcmV2aWV3X2lkKTsKICAgICAgICAgICAgICAgIHVwdm90ZUljb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXB2b3RlLWljb24tJyArIHJldmlld19pZCk7CiAgICAgICAgICAgICAgICBzcGlubmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2Qtbm9uZScpOwogICAgICAgICAgICAgICAgdXB2b3RlRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdkLW5vbmUnKTsKICAgICAgICAgICAgICAgIHVwdm90ZUljb24uY2xhc3NMaXN0LmFkZCgnZC1ub25lJyk7CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmV2aWV3c19zZXIudXB2b3RlUmV2aWV3KHRoaXMucHJvZmlsZS5pZCwgcmV2aWV3X2lkKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Ny5zZW50OwogICAgICAgICAgICAgICAgc3Bpbm5lci5jbGFzc0xpc3QuYWRkKCdkLW5vbmUnKTsKICAgICAgICAgICAgICAgIHVwdm90ZUVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZC1ub25lJyk7CiAgICAgICAgICAgICAgICB1cHZvdGVJY29uLmNsYXNzTGlzdC5yZW1vdmUoJ2Qtbm9uZScpOwoKICAgICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICAgICAgICB1cHZvdGVSZXN1bHQgPSByZXMuZGF0YTsKCiAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdXB2b3RlUmVzdWx0LnR4aWQgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgICAgICAgICB2b3RlID0gdXB2b3RlRWxlbWVudC50ZXh0Q29udGVudDsKICAgICAgICAgICAgICAgICAgICB1cHZvdGVFbGVtZW50LmlubmVySFRNTCA9IChwYXJzZUludCh2b3RlKSArIDEpLnRvU3RyaW5nKCk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5mbGFzaCgnU3VjY2Vzc2Z1bGx5IHVwdm90ZWQgcmV2aWV3JywgJ3N1Y2Nlc3MnLCB7CiAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiA1MDAwCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzLnN0YXR1cyA9PSA1NTUpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5zaG93SGFuZGNhc2hNb2RhbCA9IHRydWU7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBtc2cgPSByZXMuZGF0YS5tZXNzYWdlOwoKICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtc2cgIT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmZsYXNoKG1zZywgJ2Vycm9yJywgewogICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogNTAwMAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTcsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiB1cHZvdGUoX3g1LCBfeDYpIHsKICAgICAgICByZXR1cm4gX3Vwdm90ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gdXB2b3RlOwogICAgfSgpCiAgfSwgewogICAga2V5OiAicHVyY2hhc2VSZXZpZXciLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9wdXJjaGFzZVJldmlldyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgocmV2aWV3X2lkKSB7CiAgICAgICAgdmFyIHNwaW5uZXIsIGJ1dHRvbiwgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBzcGlubmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3B1cmNoYXNlLXNwaW5uZXItJyArIHJldmlld19pZCk7CiAgICAgICAgICAgICAgICBidXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHVyY2hhc2UtYnV0dG9uLScgKyByZXZpZXdfaWQpOwoKICAgICAgICAgICAgICAgIGlmICghdGhpcy5jaGVja1VzZXJXYWxsZXQoKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBzcGlubmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2Qtbm9uZScpOwogICAgICAgICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2Qtbm9uZScpOwogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmV2aWV3c19zZXIuYnV5UmV2aWV3KHJldmlld19pZCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0OC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICAgICAgICB0aGlzLmZsYXNoKCdTdWNjZXNzZnVsbHkgcHVyY2hhc2VkIHJldmlldyBpbiB0eCAnICsgcmVzLmRhdGEucGF5bWVudFR4LCAnc3VjY2VzcycsIHsKICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiA1MDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXMuc3RhdHVzID09IDU1NSkgewogICAgICAgICAgICAgICAgICB0aGlzLnNob3dIYW5kY2FzaE1vZGFsID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuZmxhc2goJ0ZhaWxlZCB0byBwdXJjaGFzZSByZXZpZXcnLCAnZXJyb3InLCB7CiAgICAgICAgICAgICAgICAgICAgdGltZW91dDogNTAwMAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBzcGlubmVyLmNsYXNzTGlzdC5hZGQoJ2Qtbm9uZScpOwogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvYWRSZXZpZXdzKCk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTgsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBwdXJjaGFzZVJldmlldyhfeDcpIHsKICAgICAgICByZXR1cm4gX3B1cmNoYXNlUmV2aWV3LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBwdXJjaGFzZVJldmlldzsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImRvd252b3RlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZG93bnZvdGUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KHJldmlld19pZCwgZSkgewogICAgICAgIHZhciBzcGlubmVyLCBkb3dudm90ZUVsZW1lbnQsIGRvd252b3RlSWNvbiwgcmVzLCBkb3dudm90ZVJlc3VsdCwgdm90ZSwgbXNnOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CgogICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrVXNlcldhbGxldCgpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHNwaW5uZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZG93bnZvdGUtc3Bpbm5lci0nICsgcmV2aWV3X2lkKTsKICAgICAgICAgICAgICAgIGRvd252b3RlRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkb3dudm90ZS0nICsgcmV2aWV3X2lkKTsKICAgICAgICAgICAgICAgIGRvd252b3RlSWNvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkb3dudm90ZS1pY29uLScgKyByZXZpZXdfaWQpOwogICAgICAgICAgICAgICAgc3Bpbm5lci5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKTsKICAgICAgICAgICAgICAgIGRvd252b3RlRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdkLW5vbmUnKTsKICAgICAgICAgICAgICAgIGRvd252b3RlSWNvbi5jbGFzc0xpc3QuYWRkKCdkLW5vbmUnKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXZpZXdzX3Nlci5kb3duUmV2aWV3KHRoaXMucHJvZmlsZS5pZCwgcmV2aWV3X2lkKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0OS5zZW50OwogICAgICAgICAgICAgICAgc3Bpbm5lci5jbGFzc0xpc3QuYWRkKCdkLW5vbmUnKTsKICAgICAgICAgICAgICAgIGRvd252b3RlRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKTsKICAgICAgICAgICAgICAgIGRvd252b3RlSWNvbi5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKTsKCiAgICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgZG93bnZvdGVSZXN1bHQgPSByZXMuZGF0YTsKCiAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZG93bnZvdGVSZXN1bHQudHhpZCAhPSAndW5kZWZpbmVkJykgewogICAgICAgICAgICAgICAgICAgIHZvdGUgPSBkb3dudm90ZUVsZW1lbnQudGV4dENvbnRlbnQ7CiAgICAgICAgICAgICAgICAgICAgZG93bnZvdGVFbGVtZW50LmlubmVySFRNTCA9IChwYXJzZUludCh2b3RlKSArIDEpLnRvU3RyaW5nKCk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5mbGFzaCgnU3VjY2Vzc2Z1bGx5IGRvd252b3RlZCByZXZpZXcnLCAnc3VjY2VzcycsIHsKICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDUwMDAKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgbXNnID0gcmVzLmRhdGEubWVzc2FnZTsKCiAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbXNnICE9ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5mbGFzaChtc2csICdlcnJvcicsIHsKICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDUwMDAKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU5LCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZG93bnZvdGUoX3g4LCBfeDkpIHsKICAgICAgICByZXR1cm4gX2Rvd252b3RlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBkb3dudm90ZTsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImhhbmRsZUZpbGVEcm9wIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVGaWxlRHJvcChlKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGRyb3BwZWRGaWxlcyA9IGUuZGF0YVRyYW5zZmVyLmZpbGVzOwogICAgICBpZiAoIWRyb3BwZWRGaWxlcykgcmV0dXJuOyAvLyB0aGlzIHRpcCwgY29udmVydCBGaWxlTGlzdCB0byBhcnJheQoKICAgICAgX3RvQ29uc3VtYWJsZUFycmF5KGRyb3BwZWRGaWxlcykuZm9yRWFjaChmdW5jdGlvbiAoZikgewogICAgICAgIF90aGlzMi5maWxlcy5wdXNoKGYpOwogICAgICB9KTsKCiAgICAgIHRoaXMuc3RlcCA9IDI7CiAgICB9CiAgfSwgewogICAga2V5OiAiaGFuZGxlRmlsZUlucHV0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVGaWxlSW5wdXQoZSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBmaWxlcyA9IGUudGFyZ2V0LmZpbGVzOwogICAgICBmaWxlcyA9IGUudGFyZ2V0LmZpbGVzOwogICAgICBpZiAoIWZpbGVzKSByZXR1cm47IC8vIHRoaXMgdGlwLCBjb252ZXJ0IEZpbGVMaXN0IHRvIGFycmF5CgogICAgICBfdG9Db25zdW1hYmxlQXJyYXkoZmlsZXMpLmZvckVhY2goZnVuY3Rpb24gKGYpIHsKICAgICAgICBfdGhpczMuZmlsZXMucHVzaChmKTsKICAgICAgfSk7CgogICAgICB0aGlzLnN0ZXAgPSAyOwogICAgfQogIH0sIHsKICAgIGtleTogInJlbW92ZUZpbGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZUZpbGUoZmlsZUtleSkgewogICAgICB0aGlzLmZpbGVzLnNwbGljZShmaWxlS2V5LCAxKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ1cGxvYWRJbWFnZXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF91cGxvYWRJbWFnZXMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMCgpIHsKICAgICAgICB2YXIgaSwgc3RhdHVzLCBwcm9ncmVzcywgcGxhY2VJbWFnZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHRoaXMuc3RlcCA9IDA7CiAgICAgICAgICAgICAgICB0aGlzLnNob3dVcGxvYWRQcm9ncmVzc0JhciA9IHRydWU7CiAgICAgICAgICAgICAgICBpID0gMDsKICAgICAgICAgICAgICAgIHN0YXR1cyA9IGZhbHNlOwogICAgICAgICAgICAgICAgcHJvZ3Jlc3MgPSAxMDAgLyB0aGlzLmZpbGVzLmxlbmd0aDsKICAgICAgICAgICAgICAgIGkgPSAwOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBpZiAoIShpIDwgdGhpcy5maWxlcy5sZW5ndGgpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSA5OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGxhY2Vfc2VyLnVwbG9hZFBsYWNlSW1hZ2UodGhpcy5maWxlc1tpXSwgdGhpcy5wbGFjZV9pZCk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIHBsYWNlSW1hZ2UgPSBfY29udGV4dDEwLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHBsYWNlSW1hZ2Uuc3RhdHVzICE9IDIwMCkgewogICAgICAgICAgICAgICAgICB0aGlzLmZsYXNoKHBsYWNlSW1hZ2VbJ2RhdGEnXVsnbWVzc2FnZSddLCAnZXJyb3InLCB7CiAgICAgICAgICAgICAgICAgICAgdGltZW91dDogNTAwMAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAocGxhY2VJbWFnZS5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgIHN0YXR1cyA9IHRydWU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhpcy51cGxvYWRQcm9ncmVzcyArPSBwYXJzZUludChwcm9ncmVzcy50b0ZpeGVkKDIpKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIGkrKzsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDY7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIHRoaXMuc2hvd1VwbG9hZFByb2dyZXNzQmFyID0gZmFsc2U7CgogICAgICAgICAgICAgICAgaWYgKHN0YXR1cykgewogICAgICAgICAgICAgICAgICB0aGlzLmZsYXNoKCdJbWFnZSBoYXMgYmVlbiB1cGxvYWRlZCcsICdzdWNjZXNzJywgewogICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDUwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTAsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiB1cGxvYWRJbWFnZXMoKSB7CiAgICAgICAgcmV0dXJuIF91cGxvYWRJbWFnZXMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHVwbG9hZEltYWdlczsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImZpbGVEcmFnSW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZpbGVEcmFnSW4oKSB7CiAgICAgIGNvbnNvbGUubG9nKCcnKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJmaWxlRHJhZ091dCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZmlsZURyYWdPdXQoKSB7CiAgICAgIGNvbnNvbGUubG9nKCcnKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzaG93SW1hZ2VVcGxvYWRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd0ltYWdlVXBsb2FkZXIoKSB7CiAgICAgIGlmICh0aGlzLmNoZWNrVXNlcldhbGxldCgpKSB7CiAgICAgICAgdGhpcy5zdGVwID0gMTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImNvcHlUb0NsaXBib2FyZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29weVRvQ2xpcGJvYXJkKCkgewogICAgICB2YXIgZHVtbXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOwogICAgICB2YXIgdGV4dCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmOwogICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGR1bW15KTsKICAgICAgZHVtbXkudmFsdWUgPSB0ZXh0OwogICAgICBkdW1teS5zZWxlY3QoKTsKICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2NvcHknKTsKICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkdW1teSk7CiAgICAgIHRoaXMuZmxhc2goJ0NvcGllZCB0byBjbGlwYm9hcmQnLCAnc3VjY2VzcycsIHsKICAgICAgICB0aW1lb3V0OiA1MDAwCiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImhpZGVJbWFnZVVwbG9hZGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBoaWRlSW1hZ2VVcGxvYWRlcigpIHsKICAgICAgdGhpcy5zdGVwID0gMDsKICAgICAgdGhpcy5maWxlcyA9IFtdOwogICAgfQogIH0sIHsKICAgIGtleTogImNyZWF0ZVVybCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlVXJsKGltYWdlRmlsZSkgewogICAgICByZXR1cm4gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoaW1hZ2VGaWxlKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhZGRGYXZvcml0ZVBsYWNlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfYWRkRmF2b3JpdGVQbGFjZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTExKHBsYWNlX2lkKSB7CiAgICAgICAgdmFyIGFkZF9mYXZvcml0ZV9wbGFjZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTExJChfY29udGV4dDExKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTEucHJldiA9IF9jb250ZXh0MTEubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghdGhpcy5jaGVja1VzZXJXYWxsZXQoKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmF2b3JpdGVzX3Nlci5hZGRGYXZvcml0ZSh0aGlzLnByb2ZpbGUuaWQsICdsb2NhdGlvbicsIHBsYWNlX2lkKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgYWRkX2Zhdm9yaXRlX3BsYWNlID0gX2NvbnRleHQxMS5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChhZGRfZmF2b3JpdGVfcGxhY2Uuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICAgICAgICB0aGlzLmZsYXNoKCdQbGFjZSBoYXMgYmVlbiBhZGRlZCB0byB5b3VyIGZhdm9yaXRlcycsICdzdWNjZXNzJywgewogICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDUwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tQbGFjZUlzRmF2b3JpdGUoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoYWRkX2Zhdm9yaXRlX3BsYWNlLnN0YXR1cyA9PSA0MDkpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5mbGFzaCgnWW91IGhhdmUgYWxyZWFkeSBhZGRlZCB0aGlzIHBsYWNlIGFzIGEgZmF2b3JpdGUnLCAnZXJyb3InLCB7CiAgICAgICAgICAgICAgICAgICAgdGltZW91dDogNTAwMAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTEsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBhZGRGYXZvcml0ZVBsYWNlKF94MTApIHsKICAgICAgICByZXR1cm4gX2FkZEZhdm9yaXRlUGxhY2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGFkZEZhdm9yaXRlUGxhY2U7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJ3cml0ZVJldmlldyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gd3JpdGVSZXZpZXcoKSB7CiAgICAgIGlmICh0aGlzLmNoZWNrVXNlcldhbGxldCgpKSB7CiAgICAgICAgdGhpcy5nZXRSb3V0ZVBhdGgoJ25ld19yZXZpZXcnLCB7CiAgICAgICAgICAncGxhY2VfaWQnOiB0aGlzLnBsYWNlLnBsYWNlX2lkLAogICAgICAgICAgJ3BsYWNlX25hbWUnOiB0aGlzLnBsYWNlLm5hbWUKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImNoZWNrVXNlcldhbGxldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tVc2VyV2FsbGV0KCkgewogICAgICBpZiAodGhpcy5wcm9maWxlKSB7CiAgICAgICAgaWYgKHRoaXMucHJvZmlsZS53YWxsZXQpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMub3BlbkxvZ2luKCk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJvcGVuTG9naW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9wZW5Mb2dpbigpIHsKICAgICAgaWYgKCF0aGlzLiRyZWZzWydzaWdudXAnXS5pc09wZW4oKSkgewogICAgICAgIHRoaXMuJHJlZnNbJ2xvZ2luJ10uc2hvd01vZGFsKCk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJvcGVuU2lnbnVwIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuU2lnbnVwKCkgewogICAgICB0aGlzLiRyZWZzWydzaWdudXAnXS5zaG93TW9kYWwoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJvbkxvZ2luIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvbkxvZ2luKCkgewogICAgICB0aGlzLmZsYXNoKCdZb3UgaGF2ZSBsb2dnZWQgaW4gc3VjY2Vzc2Z1bGx5JywgJ3N1Y2Nlc3MnLCB7CiAgICAgICAgdGltZW91dDogMzAwMAogICAgICB9KTsKICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAib25TaWdudXAiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uU2lnbnVwKCkgewogICAgICB0aGlzLmZsYXNoKCdZb3UgaGF2ZSBzaWduZWQgdXAgc3VjY2Vzc2Z1bHknLCAnc3VjY2VzcycsIHsKICAgICAgICB0aW1lb3V0OiAzMDAwCiAgICAgIH0pOwogICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJvblN1Ym1pdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX29uU3VibWl0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTIodmFsdWUsIHVzZXJJZCwgcmV2aWV3SWQpIHsKICAgICAgICB2YXIgc2VuZFRpcDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTIucHJldiA9IF9jb250ZXh0MTIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXZpZXdzX3Nlci5zZW5kVGlwKHZhbHVlLCB1c2VySWQsIHJldmlld0lkKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgc2VuZFRpcCA9IF9jb250ZXh0MTIuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoc2VuZFRpcC5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuZmxhc2goJ1lvdXIgVGlwIGhhcyBiZWVuIHNlbnQgc3VjY2Vzc2Z1bGx5JywgJ3N1Y2Nlc3MnLCB7CiAgICAgICAgICAgICAgICAgICAgdGltZW91dDogNTAwMAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgdGhpcy50aXBTdGF0dXMgPSB0cnVlOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZW5kVGlwLnN0YXR1cyA9PSA1NTUpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5zaG93SGFuZGNhc2hNb2RhbCA9IHRydWU7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICB0aGlzLmZsYXNoKHNlbmRUaXAuZGF0YS5tZXNzYWdlLCAnZXJyb3InLCB7CiAgICAgICAgICAgICAgICAgICAgdGltZW91dDogNTAwMAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgdGhpcy50aXBTdGF0dXMgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTIsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBvblN1Ym1pdChfeDExLCBfeDEyLCBfeDEzKSB7CiAgICAgICAgcmV0dXJuIF9vblN1Ym1pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gb25TdWJtaXQ7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJjaGVja1BsYWNlSXNGYXZvcml0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2NoZWNrUGxhY2VJc0Zhdm9yaXRlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTMoKSB7CiAgICAgICAgdmFyIGZhdm9yaXRlX3BsYWNlcywgZmF2b3JpdGVfbG9jYXRpb25zLCBpOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTMkKF9jb250ZXh0MTMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMy5wcmV2ID0gX2NvbnRleHQxMy5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZhdm9yaXRlc19zZXIucGxhY2VzKHRoaXMucHJvZmlsZS5pZCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGZhdm9yaXRlX3BsYWNlcyA9IF9jb250ZXh0MTMuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoZmF2b3JpdGVfcGxhY2VzLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgZmF2b3JpdGVfcGxhY2VzID0gZmF2b3JpdGVfcGxhY2VzLmRhdGE7CiAgICAgICAgICAgICAgICAgIGZhdm9yaXRlX2xvY2F0aW9ucyA9IG5ldyBBcnJheShmYXZvcml0ZV9wbGFjZXMubGVuZ3RoKTsKCiAgICAgICAgICAgICAgICAgIGlmIChmYXZvcml0ZV9wbGFjZXMgJiYgZmF2b3JpdGVfcGxhY2VzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBmYXZvcml0ZV9wbGFjZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChmYXZvcml0ZV9wbGFjZXNbaV0uZmF2b3JpdGUgPT0gdGhpcy5wbGFjZV9pZCkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzRmF2b3JpdGUgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMywgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGNoZWNrUGxhY2VJc0Zhdm9yaXRlKCkgewogICAgICAgIHJldHVybiBfY2hlY2tQbGFjZUlzRmF2b3JpdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGNoZWNrUGxhY2VJc0Zhdm9yaXRlOwogICAgfSgpCiAgfSwgewogICAga2V5OiAib3BlbkltYWdlTW9kYWwiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9wZW5JbWFnZU1vZGFsKHBob3RvX3JlZmVyZW5jZSwgaW5kZXgsIHNvdXJjZSkgewogICAgICB0aGlzLm1haW5JbWFnZU1vZGVsID0gcGhvdG9fcmVmZXJlbmNlOwogICAgICB0aGlzLm1haW5JbWFnZUluZGV4ID0gaW5kZXg7CiAgICAgIC8qICAgIHRoaXMuJHJlZnMuUGxhY2VJbWFnZU1vZGFsLnNldEltYWdlKHBob3RvX3JlZmVyZW5jZSk7CiAgICAgICAgICB0aGlzLiRyZWZzLlBsYWNlSW1hZ2VNb2RhbC5zZXRJbmRleChpbmRleCk7Ki8KCiAgICAgIGlmIChzb3VyY2UgPT0gJ2dvb2dsZScpIHsKICAgICAgICB0aGlzLnNob3dHb29nbGVJbWFnZU1vZGFsID0gIXRoaXMuc2hvd0dvb2dsZUltYWdlTW9kYWw7CiAgICAgICAgdGhpcy5zaG93QnJpdGV2dWVJbWFnZU1vZGFsID0gZmFsc2U7CiAgICAgICAgdGhpcy5zaG93UmV2aWV3SW1hZ2VNb2RhbCA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2hvd0dvb2dsZUltYWdlTW9kYWwgPSBmYWxzZTsKICAgICAgICB0aGlzLnNob3dCcml0ZXZ1ZUltYWdlTW9kYWwgPSAhdGhpcy5zaG93QnJpdGV2dWVJbWFnZU1vZGFsOwogICAgICAgIHRoaXMuc2hvd1Jldmlld0ltYWdlTW9kYWwgPSBmYWxzZTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogIm9wZW5SZXZpZXdJbWFnZU1vZGVsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuUmV2aWV3SW1hZ2VNb2RlbChyZXZpZXdfcGhvdG9zKSB7CiAgICAgIHRoaXMucmV2aWV3UGhvdG9zID0gcmV2aWV3X3Bob3RvczsKICAgICAgdGhpcy5tYWluUmV2aWV3SW1hZ2VNb2RlbCA9IHJldmlld19waG90b3NbMF0udXJsOwogICAgICB0aGlzLnNob3dSZXZpZXdJbWFnZU1vZGFsID0gIXRoaXMuc2hvd1Jldmlld0ltYWdlTW9kYWw7CiAgICAgIHRoaXMuc2hvd0dvb2dsZUltYWdlTW9kYWwgPSBmYWxzZTsKICAgICAgdGhpcy5zaG93QnJpdGV2dWVJbWFnZU1vZGFsID0gZmFsc2U7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2hhbmdlU2hvd1Jldmlld0ltYWdlTW9kYWwiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNoYW5nZVNob3dSZXZpZXdJbWFnZU1vZGFsKCkgewogICAgICB0aGlzLnNob3dSZXZpZXdJbWFnZU1vZGFsID0gZmFsc2U7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gUGxhY2U7Cn0oVnVlKTsKCl9fZGVjb3JhdGUoW0luamVjdCgnZmF2b3JpdGVzU2VydmljZScpXSwgUGxhY2UucHJvdG90eXBlLCAiZmF2b3JpdGVzX3NlciIsIHZvaWQgMCk7CgpfX2RlY29yYXRlKFtJbmplY3QoJ3BsYWNlU2VydmljZScpXSwgUGxhY2UucHJvdG90eXBlLCAicGxhY2Vfc2VyIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW0luamVjdCgncmV2aWV3c1NlcnZpY2UnKV0sIFBsYWNlLnByb3RvdHlwZSwgInJldmlld3Nfc2VyIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW0luamVjdCgndXNlclNlcnZpY2UnKV0sIFBsYWNlLnByb3RvdHlwZSwgInVzZXJfc2VydmljZSIsIHZvaWQgMCk7CgpQbGFjZSA9IF9fZGVjb3JhdGUoW0NvbXBvbmVudCh7CiAgY29tcG9uZW50czogewogICAgTG9naW46IExvZ2luLAogICAgU2lnbnVwOiBTaWdudXAsCiAgICBUaXA6IFRpcCwKICAgIE1vZGFsOiBNb2RhbCwKICAgIEltYWdlTW9kYWw6IEltYWdlTW9kYWwsCiAgICBSZXZpZXdJbWFnZU1vZGFsOiBSZXZpZXdJbWFnZU1vZGFsCiAgfSwKICBtZXRhSW5mbzogewogICAgdGl0bGU6ICJCcml0ZXZ1ZSAtIEJsb2NrY2hhaW4gdmVyaWZpZWQgcmV2aWV3cyB3aGVyZSByZXZpZXdlcnMgZ2V0IHBhaWQiLAogICAgbWV0YTogW3sKICAgICAgbmFtZTogJ3RpdGxlJywKICAgICAgY29udGVudDogJ0JyaXRldnVlIC0gQmxvY2tjaGFpbiB2ZXJpZmllZCByZXZpZXdzIHdoZXJlIHJldmlld2VycyBnZXQgcGFpZCcKICAgIH0sIHsKICAgICAgbmFtZTogJ2Rlc2NyaXB0aW9uJywKICAgICAgY29udGVudDogJ0JlZ2luIGVhcm5pbmcgbW9uZXkgZm9yIHlvdXIgcmV2aWV3cyBvZiBidXNpbmVzc2VzIGFuZCBwbGFjZXMgd2l0aCBCcml0ZXZ1ZS4gV2Ugd2lsbCBwYXkgeW91IGZvciBpbmZvcm1hdGlvbiBhYm91dCB5b3VyIGhvbWV0b3duIHRvIGdldCBzdGFydGVkIScKICAgIH0sIHsKICAgICAgaXRlbXByb3A6ICduYW1lJywKICAgICAgY29udGVudDogIkJyaXRldnVlIgogICAgfSwgewogICAgICBpdGVtcHJvcDogJ2Rlc2NyaXB0aW9uJywKICAgICAgY29udGVudDogIkJlZ2luIGVhcm5pbmcgbW9uZXkgZm9yIHlvdXIgcmV2aWV3cyBvZiBidXNpbmVzc2VzIGFuZCBwbGFjZXMgd2l0aCBCcml0ZXZ1ZS4gV2Ugd2lsbCBwYXkgeW91IGZvciBpbmZvcm1hdGlvbiBhYm91dCB5b3VyIGhvbWV0b3duIHRvIGdldCBzdGFydGVkISIKICAgIH0sIHsKICAgICAgaXRlbXByb3A6ICdpbWFnZScsCiAgICAgIGNvbnRlbnQ6IHJlcXVpcmUoJ0AvYXNzZXRzL2ltYWdlcy9sb2dvX2JsYWNrLnN2ZycpCiAgICB9LCB7CiAgICAgIHByb3BlcnR5OiAnb2c6dHlwZScsCiAgICAgIGNvbnRlbnQ6ICJ3ZWJzaXRlIgogICAgfSwgewogICAgICBwcm9wZXJ0eTogJ29nOnVybCcsCiAgICAgIGNvbnRlbnQ6ICJodHRwczovL2JyaXRldnVlLmNvbS8iCiAgICB9LCB7CiAgICAgIHByb3BlcnR5OiAnb2c6dGl0bGUnLAogICAgICBjb250ZW50OiAiQnJpdGV2dWUgLSBCbG9ja2NoYWluIHZlcmlmaWVkIHJldmlld3Mgd2hlcmUgcmV2aWV3ZXJzIGdldCBwYWlkIgogICAgfSwgewogICAgICBwcm9wZXJ0eTogJ29nOmRlc2NyaXB0aW9uJywKICAgICAgY29udGVudDogIkJlZ2luIGVhcm5pbmcgbW9uZXkgZm9yIHlvdXIgcmV2aWV3cyBvZiBidXNpbmVzc2VzIGFuZCBwbGFjZXMgd2l0aCBCcml0ZXZ1ZS4gV2Ugd2lsbCBwYXkgeW91IGZvciBpbmZvcm1hdGlvbiBhYm91dCB5b3VyIGhvbWV0b3duIHRvIGdldCBzdGFydGVkISIKICAgIH0sIHsKICAgICAgcHJvcGVydHk6ICdvZzppbWFnZScsCiAgICAgIGNvbnRlbnQ6IHJlcXVpcmUoJ0AvYXNzZXRzL2ltYWdlcy9sb2dvX2JsYWNrLnN2ZycpCiAgICB9LCB7CiAgICAgIHByb3BlcnR5OiAnb2c6c2l0ZV9uYW1lJywKICAgICAgY29udGVudDogJ2JyaXRldnVlJwogICAgfSwgewogICAgICBuYW1lOiAndHdpdHRlcjpjYXJkJywKICAgICAgY29udGVudDogInN1bW1hcnlfbGFyZ2VfaW1hZ2UiCiAgICB9LCB7CiAgICAgIG5hbWU6ICd0d2l0dGVyOnVybCcsCiAgICAgIGNvbnRlbnQ6ICJodHRwczovL2JyaXRldnVlLmNvbS8iCiAgICB9LCB7CiAgICAgIG5hbWU6ICd0d2l0dGVyOnRpdGxlJywKICAgICAgY29udGVudDogIkJyaXRldnVlIC0gQmxvY2tjaGFpbiB2ZXJpZmllZCByZXZpZXdzIHdoZXJlIHJldmlld2VycyBnZXQgcGFpZCIKICAgIH0sIHsKICAgICAgbmFtZTogJ3R3aXR0ZXI6ZGVzY3JpcHRpb24nLAogICAgICBjb250ZW50OiAiQmVnaW4gZWFybmluZyBtb25leSBmb3IgeW91ciByZXZpZXdzIG9mIGJ1c2luZXNzZXMgYW5kIHBsYWNlcyB3aXRoIEJyaXRldnVlLiBXZSB3aWxsIHBheSB5b3UgZm9yIGluZm9ybWF0aW9uIGFib3V0IHlvdXIgaG9tZXRvd24gdG8gZ2V0IHN0YXJ0ZWQhIgogICAgfSwgewogICAgICBuYW1lOiAndHdpdHRlcjppbWFnZScsCiAgICAgIGNvbnRlbnQ6IHJlcXVpcmUoJ0AvYXNzZXRzL2ltYWdlcy9sb2dvX2JsYWNrLnN2ZycpCiAgICB9XQogIH0KfSldLCBQbGFjZSk7CmV4cG9ydCBkZWZhdWx0IFBsYWNlOw=="},{"version":3,"sources":["/home/cmurray/britevue-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/cmurray/britevue-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cmurray/britevue-frontend/src/views/Dashboard/Place/Place.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Inject, Vue} from \"vue-property-decorator\";\nimport {IGooglePlace} from \"@/interfaces/IGooglePlace\";\nimport {Loader, LoaderOptions} from \"google-maps\";\n\nimport Tip from \"@/components/Tip/Tip.vue\";\nimport {PlaceService} from \"@/services/PlaceService\";\nimport {ReviewsService} from \"@/services/ReviewsService\";\nimport {UserService} from \"@/services/UserService\";\nimport {IUser} from \"@/interfaces/IUser\";\nimport {FavoritesService} from \"@/services/FavoritesService\";\nimport Login from \"@/components/Login/Login.vue\";\nimport Signup from \"@/components/Signup/Signup.vue\";\nimport Modal from \"@/components/Modal/Modal.vue\";\nimport ImageModal from \"@/components/ImageModal/ImageModal.vue\";\nimport ReviewImageModal from  \"@/components/ImageModal/ReviewImageModal.vue\";\n\n@Component({\n  components: {\n    Login,\n    Signup,\n    Tip,\n    Modal,\n    ImageModal,\n    ReviewImageModal\n  },\n  metaInfo:{\n    title: \"Britevue - Blockchain verified reviews where reviewers get paid\",\n    meta: [\n      { name:'title',content:'Britevue - Blockchain verified reviews where reviewers get paid'},\n      { name: 'description', content:  'Begin earning money for your reviews of businesses and places with Britevue. We will pay you for information about your hometown to get started!'},\n      { itemprop: 'name', content: \"Britevue\"},\n      { itemprop: 'description', content: \"Begin earning money for your reviews of businesses and places with Britevue. We will pay you for information about your hometown to get started!\"},\n      { itemprop: 'image', content:  require('@/assets/images/logo_black.svg')},\n      { property: 'og:type', content: \"website\"},\n      { property: 'og:url', content: \"https://britevue.com/\"},\n      { property: 'og:title', content: \"Britevue - Blockchain verified reviews where reviewers get paid\"},\n      { property: 'og:description', content: \"Begin earning money for your reviews of businesses and places with Britevue. We will pay you for information about your hometown to get started!\"},\n      { property: 'og:image', content:  require('@/assets/images/logo_black.svg')},\n      { property: 'og:site_name', content: 'britevue'},\n      { name: 'twitter:card', content: \"summary_large_image\"},\n      { name: 'twitter:url', content: \"https://britevue.com/\"},\n      { name: 'twitter:title', content: \"Britevue - Blockchain verified reviews where reviewers get paid\"},\n      { name: 'twitter:description', content: \"Begin earning money for your reviews of businesses and places with Britevue. We will pay you for information about your hometown to get started!\"},\n      { name: 'twitter:image', content: require('@/assets/images/logo_black.svg') },\n    ]\n  }\n})\nexport default class Place extends Vue {\n  place_id: string;\n  place: IGooglePlace | null;\n\n  @Inject('favoritesService')\n  favorites_ser!: FavoritesService;\n\n  @Inject('placeService')\n  place_ser!: PlaceService;\n\n  @Inject('reviewsService')\n  reviews_ser!: ReviewsService;\n  reviews = [];\n  showReviews: number;\n  @Inject('userService')\n  user_service!: UserService;\n  profile: IUser | null = null;\n  files: File[] = [];\n  step: number;\n  uploadProgress: number;\n  showUploadProgressBar: boolean;\n  options: any;\n  flash: any;\n  tipStatus: boolean;\n  loadingReviews: boolean;\n  loadingPlace: boolean;\n  isFavorite: boolean;\n  showHandcashModal: boolean;\n  showGoogleImageModal: boolean;\n  showBritevueImageModal: boolean;\n  mainImageModel: string;\n  mainImageIndex: number;\n  reviewPhotos: [];\n  showReviewImageModal: boolean;\n  mainReviewImageModel: string;\n\n\n  constructor() {\n    super();\n    this.place_id = '';\n    this.showReviews = 6;\n    if (typeof this.$route.params.id != 'undefined') {\n      this.place_id = this.$route.params.id;\n    } else {\n      this.$router.push({name: \"dashboard\"});\n    }\n    this.place = null;\n    this.step = 0;\n    this.uploadProgress = 0;\n    this.showUploadProgressBar = false;\n    this.loadingReviews = true;\n    this.loadingPlace = true\n    this.options = {\n      text: {\n        color: '#FFFFFF',\n        shadowEnable: true,\n        shadowColor: '#000000',\n        fontSize: 14,\n        fontFamily: 'Helvetica',\n        dynamicPosition: false,\n        hideText: false\n      },\n      progress: {\n        color: '#cc7a00',\n        backgroundColor: '#333333'\n      },\n      layout: {\n        height: 35,\n        width: 140,\n        verticalTextAlign: 61,\n        horizontalTextAlign: 43,\n        zeroOffset: 0,\n        strokeWidth: 30,\n        progressPadding: 0,\n        type: 'line'\n      }\n    }\n\n    this.user_service.updateUserLocalStorage(\"\")\n    const user = this.user_service.getCurrentUser();\n    if (user) {\n      this.profile = user;\n      //check user token is expired\n      const checkUser = this.user_service.getUser(this.profile.id);\n    }\n    this.tipStatus=false;\n    this.isFavorite=false;\n    this.showHandcashModal=false;\n    this.showGoogleImageModal=false;\n    this.showBritevueImageModal=false;\n    this.mainImageModel= '';\n    this.mainImageIndex=0;\n    this.reviewPhotos=[];\n    this.showReviewImageModal=false;\n    this.mainReviewImageModel='';\n  }\n\n\n  async mounted() {\n    if (this.$route.query.token != null && this.$route.query.username != null) {\n      const tokenObj = {\n        username: this.$route.query.username,\n        token: this.$route.query.token,\n        expires_at: this.$route.query.expires_at\n      }\n      localStorage.setItem('token', JSON.stringify(tokenObj))\n      await this.user_service.updateUserLocalStorage(this.$route.query.username as string)\n    } else {\n      await this.user_service.updateUserLocalStorage(\"\");\n    }\n    try {\n      this.loadingPlace = true\n      await this.loadPlaceDetail();\n      await this.loadMap();\n      this.loadingPlace = false\n      await this.loadReviews();\n      await this.checkPlaceIsFavorite();\n    } catch(e) {\n      this.openLogin()\n    }\n  }\n\n  async deleteReview(review_id: string) {\n    if (this.checkUserWallet()) {\n      if(confirm('Are you sure you want to delete this review')){\n        const deleteReview = await this.reviews_ser.deleteReview(review_id);\n        if (deleteReview.status == 200) {\n          this.reviews = []\n          this.loadReviews()\n        } else {\n          this.flash(\"Had a problem deleting review\", 'error', {timeout: 10000});\n        }\n      }\n    }\n\n  }\n\n  async editReview(place_id: string, place_name: string, review_id: string) {\n    if (this.checkUserWallet()) {\n      this.getRoutePath('new_review', {'place_id': place_id, 'place_name': place_name, 'review_id': review_id});\n    }\n  }\n\n  async loadPlaceDetail() {\n    //check first if a place is a brite-vue place , if not fetch fetch from google\n    const brite_place = await this.place_ser.getBriteLocation(this.place_id);\n    if (brite_place.status == 200) {\n      this.place = brite_place.data;\n    } else {\n\n      const google_place = await this.place_ser.getGoogleLocation(this.place_id);\n      if (google_place.status==200) {\n        this.place = google_place.data;\n      }\n      if(brite_place.status==500 && google_place.status==500){\n        this.flash(\"Place Not Found\", 'error', {timeout: 10000});\n      }\n    }\n  }\n\n  async loadMap() {\n    const options: LoaderOptions = {/* todo */};\n    const loader = new Loader('AIzaSyDMqrI8hMqiyIPdQUkRUerdohx28Fuv4wE', options);\n    const google = await loader.load();\n    /* eslint-disable @typescript-eslint/no-explicit-any*/\n    const con: any = this.$refs.map;\n    let lat = -34.397;\n    let lng = 150.644;\n    if (this.place != null && this.place.geometry != null && this.place.geometry.location != null) {\n      lat = this.place.geometry.location.lat\n      lng = this.place.geometry.location.lng\n    }\n    //load map\n    new google.maps.Map(con, {\n      center: {lat: lat, lng: lng},\n      zoom: 15,\n    });\n  }\n\n  tip(amount: string) {\n    console.log('tipping:', amount);\n  }\n\n  goToPhotos() {\n    this.getRoutePath('place_photos', {'place': this.place});\n  }\n\n  async loadReviews() {\n    this.loadingReviews = true\n    let reviews = await this.reviews_ser.getPlaceReviews(this.place_id);\n    if (reviews.status==200) {\n      reviews=reviews.data;\n      let i;\n      for(i=0;i<reviews.length;i++){\n        const userInfo=await this.user_service.getUser(reviews[i].user);\n        if (userInfo.status==200) {\n          reviews[i].userInfo=userInfo.data;\n        }\n      }\n      this.reviews = reviews;\n    }\n    this.loadingReviews = false\n  }\n\n  closingTime() {\n    const dt = new Date();\n    const dayOfTheWeek = dt.getDay();\n    if (this.place == null || this.place.opening_hours == null || this.place.opening_hours.periods == null) {\n      return ''\n    }\n    let hours;\n    let minutes;\n    let shift;\n    if(this.place.opening_hours.open_now==true){\n      if(this.place.opening_hours.periods.length==7){\n        if(typeof this.place.opening_hours.periods[dayOfTheWeek].close.time!='undefined'){\n          hours=this.place.opening_hours.periods[dayOfTheWeek].close.time.substring(0,2);\n          minutes=this.place.opening_hours.periods[dayOfTheWeek].close.time.substring(2,4);\n          shift='AM';\n          if(hours > 12){\n            hours-=12;\n            shift='PM';\n          }\n          return hours+':'+minutes+' '+shift;\n        }\n      }else if(this.place.opening_hours.periods.count==1){\n        if(typeof this.place.opening_hours.periods[0].close.time!='undefined'){\n          hours=this.place.opening_hours.periods[0].close.time.substring(0,2);\n          minutes=this.place.opening_hours.periods[0].close.time.substring(2,4);\n          shift='AM';\n          if(hours > 12){\n            hours-=12;\n            shift='PM';\n          }\n          return hours+':'+minutes+' '+shift;\n        }\n      }\n    }\n\n    return '';\n  }\n\n  imageUrlAlt(event: any) {\n    event.target.src = require('@/assets/images/no-photo-avatar.png');\n  }\n\n  getRoutePath(name: string, parameters: any) {\n\n    return this.$router.push({name: name, params: parameters});\n  }\n\n  sortReviews() {\n\n    const sortReview = document.getElementById('sort-reviews') as HTMLInputElement;\n\n    if (sortReview.value == 'name') {\n      this.reviews.sort((n1: any, n2: any) => {\n        if (n1.user > n2.user) {\n          return 1;\n        }\n\n        if (n1.user < n2.user) {\n          return -1;\n        }\n\n        return 0;\n      });\n    }\n    if (sortReview.value == 'date') {\n      this.reviews.sort((n1: any, n2: any) => {\n        if (n1.timestamp > n2.timestamp) {\n          return 1;\n        }\n\n        if (n1.timestamp < n2.timestamp) {\n          return -1;\n        }\n\n        return 0;\n      });\n    }\n  }\n\n  showMoreReviews() {\n    this.showReviews += 6;\n  }\n\n  async upvote(review_id: string, e: any) {\n    e.preventDefault();\n    if(this.checkUserWallet()){\n      const spinner=document.getElementById('upvote-spinner-' + review_id) as HTMLElement;\n      const upvoteElement=document.getElementById('upvote-' + review_id) as HTMLElement;\n      const upvoteIcon=document.getElementById('upvote-icon-' + review_id) as HTMLElement;\n      spinner.classList.remove('d-none');\n      upvoteElement.classList.add('d-none');\n      upvoteIcon.classList.add('d-none');\n      const res = await this.reviews_ser.upvoteReview(this.profile!.id, review_id);\n      spinner.classList.add('d-none');\n      upvoteElement.classList.remove('d-none');\n      upvoteIcon.classList.remove('d-none');\n      if (res.status == 200) {\n        const upvoteResult = res.data\n        if (typeof upvoteResult.txid != 'undefined') {\n          const vote = upvoteElement!.textContent;\n          upvoteElement!.innerHTML = (parseInt(vote!) + 1).toString();\n          this.flash('Successfully upvoted review', 'success', {timeout: 5000})\n        }\n      } else if(res.status == 555) {\n        this.showHandcashModal = true\n      } else {\n        const msg = res.data.message\n        if (typeof msg != 'undefined') {\n          this.flash(msg, 'error', {timeout: 5000})\n        }\n      }\n    }\n  }\n\n  async purchaseReview(review_id: string) {\n    const spinner=document.getElementById('purchase-spinner-' + review_id) as HTMLElement;\n    const button=document.getElementById('purchase-button-' + review_id) as HTMLElement;\n    if(this.checkUserWallet()){\n      spinner.classList.remove('d-none');\n      button.classList.add('d-none')\n      const res = await this.reviews_ser.buyReview(review_id)\n      if (res.status == 200) {\n        this.flash('Successfully purchased review in tx '+res.data.paymentTx, 'success', {timeout: 5000});\n      } else if (res.status == 555) {\n        this.showHandcashModal = true\n      } else {\n        this.flash('Failed to purchase review', 'error', {timeout: 5000})\n      }\n      spinner.classList.add('d-none')\n      await this.loadReviews()\n    }\n  }\n\n  async downvote(review_id: string, e: any) {\n    e.preventDefault();\n    if(this.checkUserWallet()){\n      const spinner=document.getElementById('downvote-spinner-' + review_id) as HTMLElement;\n      const downvoteElement=document.getElementById('downvote-' + review_id) as HTMLElement;\n      const downvoteIcon=document.getElementById('downvote-icon-' + review_id) as HTMLElement;\n      spinner.classList.remove('d-none');\n      downvoteElement.classList.add('d-none');\n      downvoteIcon.classList.add('d-none');\n      const res = await this.reviews_ser.downReview(this.profile!.id, review_id);\n      spinner.classList.add('d-none');\n      downvoteElement.classList.remove('d-none');\n      downvoteIcon.classList.remove('d-none');\n      if (res.status == 200) {\n        const downvoteResult = res.data\n        if (typeof downvoteResult.txid != 'undefined') {\n          const vote = downvoteElement!.textContent;\n          downvoteElement!.innerHTML = (parseInt(vote!) + 1).toString();\n          this.flash('Successfully downvoted review', 'success', {timeout: 5000})\n        }\n      } else {\n        const msg = res.data.message\n        if (typeof msg != 'undefined') {\n          this.flash(msg, 'error', {timeout: 5000})\n        }\n      }\n    }\n  }\n\n  handleFileDrop(e: any) {\n    const droppedFiles = e.dataTransfer.files;\n    if (!droppedFiles) return;\n    // this tip, convert FileList to array\n    ([...droppedFiles]).forEach((f: any) => {\n      this.files.push(f);\n    });\n    this.step = 2;\n  }\n\n  handleFileInput(e: any) {\n    let files = e.target.files;\n    files = e.target.files\n    if (!files) return;\n    // this tip, convert FileList to array\n    ([...files]).forEach((f: File) => {\n      this.files.push(f);\n    });\n    this.step = 2;\n  }\n\n  removeFile(fileKey: any) {\n    this.files.splice(fileKey, 1)\n  }\n\n  async uploadImages() {\n    this.step = 0;\n    this.showUploadProgressBar = true;\n    let i = 0;\n    let status = false;\n    const progress = 100 / (this.files.length);\n    for (i = 0; i < this.files.length; i++) {\n      //upload images\n      const placeImage = await this.place_ser.uploadPlaceImage(this.files[i], this.place_id);\n      if (placeImage.status != 200) {\n        this.flash(placeImage['data']['message'], 'error', {timeout: 5000});\n      }\n      if (placeImage.status == 200) {\n        status = true;\n      }\n      this.uploadProgress += parseInt(progress.toFixed(2));\n    }\n    this.showUploadProgressBar = false;\n    if (status) {\n      this.flash('Image has been uploaded', 'success', {timeout: 5000});\n      location.reload();\n    }\n  }\n\n  fileDragIn() {\n    console.log('');\n  }\n\n  fileDragOut() {\n    console.log('');\n  }\n\n  showImageUploader() {\n    if (this.checkUserWallet()) {\n      this.step = 1;\n    }\n\n  }\n  copyToClipboard() {\n    const dummy = document.createElement('input');\n    const text = window.location.href;\n\n    document.body.appendChild(dummy);\n    dummy.value = text;\n    dummy.select();\n    document.execCommand('copy');\n    document.body.removeChild(dummy);\n    this.flash('Copied to clipboard', 'success', {timeout: 5000})\n  }\n\n  hideImageUploader() {\n    this.step = 0;\n    this.files = [];\n  }\n\n  createUrl(imageFile: File) {\n    return window.URL.createObjectURL(imageFile);\n  }\n\n  async addFavoritePlace(place_id: any) {\n    if (this.checkUserWallet()) {\n      const add_favorite_place = await this.favorites_ser.addFavorite(this.profile!.id, 'location', place_id);\n      if (add_favorite_place.status==200) {\n        this.flash('Place has been added to your favorites', 'success', {timeout: 5000});\n        this.checkPlaceIsFavorite()\n      }\n      if(add_favorite_place.status==409){\n        this.flash('You have already added this place as a favorite', 'error', {timeout: 5000});\n      }\n    }\n  }\n\n  writeReview() {\n    if (this.checkUserWallet()) {\n      this.getRoutePath('new_review', {'place_id': this.place!.place_id, 'place_name': this.place!.name});\n    }\n  }\n\n  checkUserWallet() {\n    if (this.profile) {\n      if (this.profile.wallet) {\n        return true;\n      } else {\n        return false;\n      }\n    } else {\n      this.openLogin();\n    }\n  }\n\n  openLogin() {\n    if (!(this.$refs['signup'] as any).isOpen()) {\n      (this.$refs['login'] as any).showModal();\n    }\n  }\n\n  openSignup() {\n    (this.$refs['signup'] as any).showModal();\n  }\n\n  onLogin() {\n    this.flash('You have logged in successfully', 'success', {timeout: 3000});\n    location.reload();\n  }\n\n  onSignup() {\n    this.flash('You have signed up successfuly', 'success', {timeout: 3000});\n    location.reload();\n  }\n  async onSubmit(value: any,userId: any,reviewId: any ){\n    const sendTip = await this.reviews_ser.sendTip(value,userId,reviewId);\n    if (sendTip.status == 200) {\n      this.flash('Your Tip has been sent successfully', 'success', {timeout: 5000});\n      this.tipStatus=true;\n    }else if(sendTip.status==555){\n      this.showHandcashModal=true;\n    }else{\n      this.flash(sendTip.data.message, 'error', {timeout: 5000});\n      this.tipStatus=false;\n    }\n  }\n  async checkPlaceIsFavorite(){\n    let favorite_places = await this.favorites_ser.places(this.profile!.id);\n    if (favorite_places.status == 200) {\n      favorite_places = favorite_places.data;\n      const favorite_locations = new Array(favorite_places.length)\n      if (favorite_places && favorite_places.length) {\n        for (let i = 0; i < favorite_places.length; i++) {\n          if(favorite_places[i].favorite==this.place_id){\n            this.isFavorite=true;\n          }\n        }\n\n      }\n    }\n  }\n\n  openImageModal(photo_reference: any,index: number,source: string) {\n\n    this.mainImageModel=photo_reference;\n    this.mainImageIndex=index;\n/*    this.$refs.PlaceImageModal.setImage(photo_reference);\n    this.$refs.PlaceImageModal.setIndex(index);*/\n    if(source=='google'){\n      this.showGoogleImageModal = !this.showGoogleImageModal;\n      this.showBritevueImageModal=false;\n      this.showReviewImageModal=false;\n    }else{\n      this.showGoogleImageModal=false;\n      this.showBritevueImageModal=!this.showBritevueImageModal;\n      this.showReviewImageModal=false;\n    }\n\n  }\n  openReviewImageModel(review_photos: any){\n    this.reviewPhotos=review_photos;\n    this.mainReviewImageModel=review_photos[0].url;\n    this.showReviewImageModal=!this.showReviewImageModal;\n    this.showGoogleImageModal=false;\n    this.showBritevueImageModal=false;\n}\n  changeShowReviewImageModal(){\n    this.showReviewImageModal=false;\n  }\n}\n"],"sourceRoot":""}]}