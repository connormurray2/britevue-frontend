{"remainingRequest":"/home/cmurray/britevue-frontend/node_modules/babel-loader/lib/index.js!/home/cmurray/britevue-frontend/node_modules/ts-loader/index.js??ref--14-2!/home/cmurray/britevue-frontend/node_modules/eslint-loader/index.js??ref--13-0!/home/cmurray/britevue-frontend/src/services/UserService.ts","dependencies":[{"path":"/home/cmurray/britevue-frontend/src/services/UserService.ts","mtime":1628691920057},{"path":"/home/cmurray/britevue-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/cmurray/britevue-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/cmurray/britevue-frontend/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/cmurray/britevue-frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvY211cnJheS9icml0ZXZ1ZS1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL2hvbWUvY211cnJheS9icml0ZXZ1ZS1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9ob21lL2NtdXJyYXkvYnJpdGV2dWUtZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICIvaG9tZS9jbXVycmF5L2JyaXRldnVlLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyI7CmltcG9ydCBfY3JlYXRlU3VwZXIgZnJvbSAiL2hvbWUvY211cnJheS9icml0ZXZ1ZS1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIiOwppbXBvcnQgeyBBcGkgfSBmcm9tICJAL3NlcnZpY2VzL0FwaSI7CmltcG9ydCBBeGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCByb3V0ZXIgZnJvbSAnQC9yb3V0ZXInOwpleHBvcnQgdmFyIFVzZXJTZXJ2aWNlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQXBpKSB7CiAgX2luaGVyaXRzKFVzZXJTZXJ2aWNlLCBfQXBpKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihVc2VyU2VydmljZSk7CgogIGZ1bmN0aW9uIFVzZXJTZXJ2aWNlKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFVzZXJTZXJ2aWNlKTsKCiAgICByZXR1cm4gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoVXNlclNlcnZpY2UsIFt7CiAgICBrZXk6ICJnZXRVc2VyIiwKCiAgICAvKioKICAgICAqIEdldHMgdGhlIHVzZXIuCiAgICAgKgogICAgICogQHBhcmFtIGlkCiAgICAgKi8KICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0VXNlciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShpZCkgewogICAgICAgIHZhciB0b2tlbiwgdXJsLCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEobG9jYWxTdG9yYWdlLnRva2VuID09IG51bGwpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aHJvdyAnbm8gdG9rZW4gZm91bmQnOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICB0b2tlbiA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLnRva2VuKTsKICAgICAgICAgICAgICAgIHVybCA9IHRoaXMuYmFzZV91cmwgKyAnL2FwaS91c2VyLycgKyBpZDsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA0OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gQXhpb3MuZ2V0KHVybCwgewogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgIkF1dGhvcml6YXRpb24iOiAiQmVhcmVyICIgKyB0b2tlbi50b2tlbgogICAgICAgICAgICAgICAgICB9IC8vd2l0aENyZWRlbnRpYWxzOiB0cnVlCgogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCByZXMpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDExOwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSg0KTsKCiAgICAgICAgICAgICAgICBpZiAoIShfY29udGV4dC50MC5yZXNwb25zZS5zdGF0dXMgPT09IDQwMSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aGlzLmxvZ291dCgpOwogICAgICAgICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiAnaG9tZScKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI0OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgICBpZiAoIShfY29udGV4dC50MC5yZXNwb25zZS5zdGF0dXMgPT09IDQwMykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aGlzLmxvZ291dCgpOwogICAgICAgICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiAnaG9tZScKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI0OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dC50MC5yZXNwb25zZSk7CgogICAgICAgICAgICAgIGNhc2UgMjQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzLCBbWzQsIDExXV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRVc2VyKF94KSB7CiAgICAgICAgcmV0dXJuIF9nZXRVc2VyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXRVc2VyOwogICAgfSgpCiAgICAvKioKICAgICAqIEdldHMgdGhlIHVzZXIuCiAgICAgKgogICAgICogQHBhcmFtIHVzZXIKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJzaWdudXAiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9zaWdudXAgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKHVzZXIpIHsKICAgICAgICB2YXIgdXJsLCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHVybCA9IHRoaXMuYmFzZV91cmwgKyAiL3VzZXIiOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIEF4aW9zLnBvc3QodXJsLCBKU09OLnN0cmluZ2lmeSh1c2VyKSwgewogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04JwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgcmVzLmRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDg7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMSk7CgogICAgICAgICAgICAgICAgaWYgKCEoX2NvbnRleHQyLnQwLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aGlzLmxvZ291dCgpOwogICAgICAgICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiAnaG9tZScKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyMjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgaWYgKCEoX2NvbnRleHQyLnQwLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDAzKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aGlzLmxvZ291dCgpOwogICAgICAgICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiAnaG9tZScKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyMjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgICAgaWYgKCEoX2NvbnRleHQyLnQwLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aHJvdyBfY29udGV4dDIudDA7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgSlNPTi5wYXJzZSgneyJlcnJvciI6ICJmYWlsZWQgdG8gc2lnbnVwIn0nKSk7CgogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMsIFtbMSwgOF1dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gc2lnbnVwKF94MikgewogICAgICAgIHJldHVybiBfc2lnbnVwLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBzaWdudXA7CiAgICB9KCkKICAgIC8qKgogICAgICogTG9ncyBpbiB0aGUgdXNlci4KICAgICAqCiAgICAgKiBAcGFyYW0gdXNlcm5hbWUKICAgICAqIEBwYXJhbSBwYXNzd29yZAogICAgICovCgogIH0sIHsKICAgIGtleTogImxvZ2luIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfbG9naW4gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKHVzZXJuYW1lLCBwYXNzd29yZCkgewogICAgICAgIHZhciB1cmwsIHJlcywgdG9rZW4sIHVzZXI7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHVybCA9IHRoaXMuYmFzZV91cmwgKyAnL2xvZ2luJzsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBBeGlvcy5wb3N0KHVybCwgewogICAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUsCiAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLyp7CiAgICAgICAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZQogICAgICAgICAgICAgICAgfSovCiAgICAgICAgICAgICAgICApOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIHRva2VuID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCBKU09OLnN0cmluZ2lmeSh0b2tlbikpOwogICAgICAgICAgICAgICAgdXNlciA9IHRoaXMudXBkYXRlVXNlckxvY2FsU3RvcmFnZSh1c2VybmFtZSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgdXNlcik7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDExOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzWyJjYXRjaCJdKDEpOwoKICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0My50MC5yZXNwb25zZS5zdGF0dXMgPT09IDQwMSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhpcy5sb2dvdXQoKTsKICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogJ2hvbWUnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjQ7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0My50MC5yZXNwb25zZS5zdGF0dXMgPT09IDQwMykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhpcy5sb2dvdXQoKTsKICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogJ2hvbWUnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjQ7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDMudDAucmVzcG9uc2UpOwoKICAgICAgICAgICAgICBjYXNlIDI0OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIEpTT04ucGFyc2UoJ3t9JykpOwoKICAgICAgICAgICAgICBjYXNlIDI1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCB0aGlzLCBbWzEsIDExXV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBsb2dpbihfeDMsIF94NCkgewogICAgICAgIHJldHVybiBfbG9naW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGxvZ2luOwogICAgfSgpCiAgfSwgewogICAga2V5OiAidXBkYXRlVXNlckxvY2FsU3RvcmFnZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3VwZGF0ZVVzZXJMb2NhbFN0b3JhZ2UgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KHVzZXJuYW1lKSB7CiAgICAgICAgdmFyIHVzZXJQcm9maWxlLCB1c2VyOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAodXNlcm5hbWUgPT0gIiIpIHsKICAgICAgICAgICAgICAgICAgdXNlclByb2ZpbGUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpOwoKICAgICAgICAgICAgICAgICAgaWYgKHVzZXJQcm9maWxlKSB7CiAgICAgICAgICAgICAgICAgICAgdXNlclByb2ZpbGUgPSBKU09OLnBhcnNlKHVzZXJQcm9maWxlKTsKICAgICAgICAgICAgICAgICAgICB1c2VybmFtZSA9IHVzZXJQcm9maWxlLmlkOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCF1c2VybmFtZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFVzZXIodXNlcm5hbWUpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICB1c2VyID0gX2NvbnRleHQ0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCEodXNlci5zdGF0dXMgPT0gMjAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyJywgSlNPTi5zdHJpbmdpZnkodXNlci5kYXRhKSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgdXNlci5kYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIEpTT04ucGFyc2UoJ3sgInN0YXR1cyI6ImVycm9yIiwgIm1lc3NhZ2UiOiJUb2tlbiBFeHBpcmVkIn0nKSk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHVwZGF0ZVVzZXJMb2NhbFN0b3JhZ2UoX3g1KSB7CiAgICAgICAgcmV0dXJuIF91cGRhdGVVc2VyTG9jYWxTdG9yYWdlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiB1cGRhdGVVc2VyTG9jYWxTdG9yYWdlOwogICAgfSgpCiAgfSwgewogICAga2V5OiAibG9nb3V0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfbG9nb3V0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXInKTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gbG9nb3V0KCkgewogICAgICAgIHJldHVybiBfbG9nb3V0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBsb2dvdXQ7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJnZXRDdXJyZW50VXNlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q3VycmVudFVzZXIoKSB7CiAgICAgIHZhciB1c2VyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXInKTsKCiAgICAgIGlmICh1c2VyKSB7CiAgICAgICAgdXNlciA9IEpTT04ucGFyc2UodXNlcik7CgogICAgICAgIGlmICghdXNlci5yZXZpZXdzX2NvdW50KSB7CiAgICAgICAgICB1c2VyLnJldmlld3NfY291bnQgPSAwOwogICAgICAgIH0KCiAgICAgICAgaWYgKCF1c2VyLmVhcm5zKSB7CiAgICAgICAgICB1c2VyLmVhcm5zID0gMDsKICAgICAgICB9CgogICAgICAgIGlmICghdXNlci5jaXR5KSB7CiAgICAgICAgICB1c2VyLmNpdHkgPSAiIjsKICAgICAgICB9CgogICAgICAgIGlmICghdXNlci5zdGF0ZSkgewogICAgICAgICAgdXNlci5zdGF0ZSA9ICIiOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHVzZXI7CiAgICB9CiAgfSwgewogICAga2V5OiAiaXNMb2dnZWRJbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaXNMb2dnZWRJbigpIHsKICAgICAgdmFyIHVzZXIgPSB0aGlzLmdldEN1cnJlbnRVc2VyKCk7CiAgICAgIHJldHVybiB1c2VyICE9PSBudWxsOwogICAgfQogIH0sIHsKICAgIGtleTogInVwbG9hZFVzZXJQaG90byIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3VwbG9hZFVzZXJQaG90byA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYocGhvdG8sIHVzZXJuYW1lKSB7CiAgICAgICAgdmFyIHRva2VuLCB1cmwsIGVyciwgY29uZmlnLCBmb3JtX2RhdGEsIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdG9rZW4gPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS50b2tlbik7CiAgICAgICAgICAgICAgICB1cmwgPSB0aGlzLmJhc2VfdXJsICsgJy9hcGkvcGhvdG8nOwogICAgICAgICAgICAgICAgZXJyID0gbnVsbDsKICAgICAgICAgICAgICAgIGNvbmZpZyA9IHsKICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScsCiAgICAgICAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAnQmVhcmVyICcgKyB0b2tlbi50b2tlbgogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgZm9ybV9kYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICAgICAgICBmb3JtX2RhdGEuYXBwZW5kKCdpbWFnZScsIHBob3RvKTsKICAgICAgICAgICAgICAgIGZvcm1fZGF0YS5hcHBlbmQoJ3R5cGUnLCAndXNlcicpOwogICAgICAgICAgICAgICAgZm9ybV9kYXRhLmFwcGVuZCgnaWQnLCB1c2VybmFtZSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDYucHJldiA9IDg7CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDExOwogICAgICAgICAgICAgICAgcmV0dXJuIEF4aW9zLnBvc3QodXJsLCBmb3JtX2RhdGEsIGNvbmZpZykuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGVyciA9IGU7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Ni5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoInJldHVybiIsIHJlcyk7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBfY29udGV4dDYucHJldiA9IDE1OwogICAgICAgICAgICAgICAgX2NvbnRleHQ2LnQwID0gX2NvbnRleHQ2WyJjYXRjaCJdKDgpOwoKICAgICAgICAgICAgICAgIGlmIChfY29udGV4dDYudDAucmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5sb2dvdXQoKTsKICAgICAgICAgICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdob21lJwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoX2NvbnRleHQ2LnQwLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDAzKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMubG9nb3V0KCk7CiAgICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnaG9tZScKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2Ugey8vLi4uCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoInJldHVybiIsIEpTT04ucGFyc2UoJycpKTsKCiAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNiwgdGhpcywgW1s4LCAxNV1dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gdXBsb2FkVXNlclBob3RvKF94NiwgX3g3KSB7CiAgICAgICAgcmV0dXJuIF91cGxvYWRVc2VyUGhvdG8uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHVwbG9hZFVzZXJQaG90bzsKICAgIH0oKQogIH0sIHsKICAgIGtleTogInVwZGF0ZVByb2ZpbGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF91cGRhdGVQcm9maWxlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNyh1c2VyKSB7CiAgICAgICAgdmFyIHVybCwgdG9rZW4sIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdXJsID0gdGhpcy5iYXNlX3VybCArICcvYXBpL3VzZXInOwogICAgICAgICAgICAgICAgdG9rZW4gPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS50b2tlbik7CiAgICAgICAgICAgICAgICBfY29udGV4dDcucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gQXhpb3MucHV0KHVybCwgSlNPTi5zdHJpbmdpZnkodXNlciksIHsKICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCcsCiAgICAgICAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAnQmVhcmVyICcgKyB0b2tlbi50b2tlbgogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQ3LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdCgicmV0dXJuIiwgcmVzKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQ3LnByZXYgPSA5OwogICAgICAgICAgICAgICAgX2NvbnRleHQ3LnQwID0gX2NvbnRleHQ3WyJjYXRjaCJdKDIpOwoKICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0Ny50MC5yZXNwb25zZS5zdGF0dXMgPT09IDQwMSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhpcy5sb2dvdXQoKTsKICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogJ2hvbWUnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0Ny50MC5yZXNwb25zZS5zdGF0dXMgPT09IDQwMykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAyMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhpcy5sb2dvdXQoKTsKICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogJ2hvbWUnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDcudDAucmVzcG9uc2UpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5hYnJ1cHQoInJldHVybiIsIEpTT04ucGFyc2UoJ3t9JykpOwoKICAgICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3LCB0aGlzLCBbWzIsIDldXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHVwZGF0ZVByb2ZpbGUoX3g4KSB7CiAgICAgICAgcmV0dXJuIF91cGRhdGVQcm9maWxlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiB1cGRhdGVQcm9maWxlOwogICAgfSgpCiAgfV0pOwoKICByZXR1cm4gVXNlclNlcnZpY2U7Cn0oQXBpKTs="},{"version":3,"sources":["/home/cmurray/britevue-frontend/node_modules/eslint-loader/index.js??ref--13-0!/home/cmurray/britevue-frontend/src/services/UserService.ts"],"names":[],"mappings":"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","sourcesContent":["import {Api} from \"@/services/Api\";\nimport {IUser} from \"@/interfaces/IUser\";\nimport Axios from \"axios\";\nimport {INewUser} from \"@/interfaces/INewUser\";\nimport {json} from \"@rxweb/reactive-forms\";\nimport router from '@/router';\n\nexport class UserService extends Api {\n    /**\n     * Gets the user.\n     *\n     * @param id\n     */\n    public async getUser(id: string){\n      if (localStorage.token == null) {\n        throw 'no token found'\n      }\n        const token = JSON.parse(localStorage.token)\n        const url = this.base_url + '/api/user/' + id;\n\n        try {\n            const res = await Axios.get(url, {\n                headers: {\"Authorization\": \"Bearer \" + token.token}\n                //withCredentials: true\n            });\n            return res;\n        } catch (e) {\n            if (e.response.status === 401) {\n                this.logout();\n                router.push({name: 'home'});\n            } else if (e.response.status === 403) {\n                this.logout();\n                router.push({name: 'home'});\n            } else {\n              return e.response\n                //...\n            }\n        }\n\n\n    }\n\n    /**\n     * Gets the user.\n     *\n     * @param user\n     */\n    public async signup(user: INewUser): Promise<IUser> {\n        const url = this.base_url + \"/user\";\n        try {\n            const res = await Axios.post(url,\n            JSON.stringify(user),\n                {\n                    headers: {\n                        'Content-type': 'application/json; charset=UTF-8'\n                    }\n                }\n            );\n            return res.data;\n        } catch (e) {\n            if (e.response.status === 401) {\n                this.logout();\n                router.push({name: 'home'});\n            } else if (e.response.status === 403) {\n                this.logout();\n                router.push({name: 'home'});\n            } else if (e.response.status === 409) {\n                throw e\n            }\n            return JSON.parse('{\"error\": \"failed to signup\"}');\n        }\n\n    }\n\n    /**\n     * Logs in the user.\n     *\n     * @param username\n     * @param password\n     */\n    public async login(username: string, password: string): Promise<IUser> {\n\n        const url = this.base_url + '/login';\n        try {\n            const res = await Axios.post(\n                url,\n                {\n                    username: username,\n                    password: password\n                }\n                /*{\n                  withCredentials: true\n                }*/\n            );\n            const token = res.data\n            localStorage.setItem('token', JSON.stringify(token));\n            const user = this.updateUserLocalStorage(username)\n            return user;\n        } catch (e) {\n            if (e.response.status === 401) {\n                this.logout();\n                router.push({name: 'home'});\n            } else if (e.response.status === 403) {\n                this.logout();\n                router.push({name: 'home'});\n            } else {\n              return e.response\n                //...\n            }\n            return JSON.parse('{}')\n        }\n\n\n    }\n\n    public async updateUserLocalStorage(username: string) {\n        if (username == \"\") {\n            let userProfile: any = localStorage.getItem('user');\n            if (userProfile) {\n                userProfile = JSON.parse(userProfile)\n                username = userProfile.id\n            }\n        }\n        if (username) {\n            const user = await this.getUser(username);\n           if(user.status==200){\n               localStorage.setItem('user', JSON.stringify(user.data));\n               return user.data\n           }\n\n        }\n        return JSON.parse('{ \"status\":\"error\", \"message\":\"Token Expired\"}');\n\n    }\n\n    public async logout() {\n        localStorage.removeItem('user');\n    }\n\n    public getCurrentUser(): IUser | null {\n        let user: any = localStorage.getItem('user');\n        if (user) {\n            user = JSON.parse(user);\n            if (!user.reviews_count) {\n                user.reviews_count = 0;\n            }\n            if (!user.earns) {\n                user.earns = 0;\n            }\n            if (!user.city) {\n                user.city = \"\";\n            }\n            if (!user.state) {\n                user.state = \"\";\n            }\n        }\n        return user;\n    }\n\n    public isLoggedIn(): boolean {\n        const user = this.getCurrentUser();\n        return user !== null;\n    }\n\n    public async uploadUserPhoto(photo: File, username: string): Promise<IUser> {\n\n        const token = JSON.parse(localStorage.token)\n        const url = this.base_url + '/api/photo';\n        let err = null;\n        const config = {headers: {'Content-Type': 'multipart/form-data', 'Authorization': 'Bearer ' + token.token}};\n        const form_data = new FormData();\n        form_data.append('image', photo);\n        form_data.append('type', 'user');\n        form_data.append('id', username);\n        try {\n            const res = await Axios.post(url, form_data, config).catch(e => err = e);\n            return res;\n        } catch (e) {\n            if (e.response.status === 401) {\n                this.logout();\n                router.push({name: 'home'});\n            } else if (e.response.status === 403) {\n                this.logout();\n                router.push({name: 'home'});\n            } else {\n                //...\n            }\n            return JSON.parse('');\n        }\n    }\n    public async updateProfile(user: IUser){\n\n        const url = this.base_url + '/api/user';\n        const token = JSON.parse(localStorage.token)\n        try {\n            const res = await Axios.put(\n                url,\n                JSON.stringify(user),\n                {\n                    headers: {\n                        'Content-type': 'application/json; charset=UTF-8', 'Authorization': 'Bearer ' + token.token\n                    }\n                }\n            );\n            return res;\n        } catch (e) {\n            if (e.response.status === 401) {\n                this.logout();\n                router.push({name: 'home'});\n            } else if (e.response.status === 403) {\n                this.logout();\n                router.push({name: 'home'});\n            } else {\n              return e.response\n                //...\n            }\n            return JSON.parse('{}');\n        }\n    }\n\n}\n"],"sourceRoot":""}]}