{"remainingRequest":"/home/cmurray/britevue-frontend/node_modules/babel-loader/lib/index.js!/home/cmurray/britevue-frontend/node_modules/ts-loader/index.js??ref--14-2!/home/cmurray/britevue-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/cmurray/britevue-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cmurray/britevue-frontend/src/views/Dashboard/Landing/Landing.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/cmurray/britevue-frontend/src/views/Dashboard/Landing/Landing.vue","mtime":1628691920057},{"path":"/home/cmurray/britevue-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/cmurray/britevue-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/cmurray/britevue-frontend/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/cmurray/britevue-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/cmurray/britevue-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS9jbXVycmF5L2JyaXRldnVlLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvaG9tZS9jbXVycmF5L2JyaXRldnVlLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL2hvbWUvY211cnJheS9icml0ZXZ1ZS1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIi9ob21lL2NtdXJyYXkvYnJpdGV2dWUtZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICIvaG9tZS9jbXVycmF5L2JyaXRldnVlLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlciI7CmltcG9ydCB7IF9fZGVjb3JhdGUgfSBmcm9tICJ0c2xpYiI7CmltcG9ydCB7IFZ1ZSwgQ29tcG9uZW50LCBJbmplY3QgfSBmcm9tICJ2dWUtcHJvcGVydHktZGVjb3JhdG9yIjsKaW1wb3J0IHsgTG9hZGVyIH0gZnJvbSAiZ29vZ2xlLW1hcHMiOwppbXBvcnQgSGVhZGVyIGZyb20gIkAvbGF5b3V0cy9kYXNoYm9hcmQvSGVhZGVyL0hlYWRlci52dWUiOwppbXBvcnQgRm9vdGVyIGZyb20gIkAvbGF5b3V0cy9kYXNoYm9hcmQvRm9vdGVyL0Zvb3Rlci52dWUiOwoKdmFyIExhbmRpbmcgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9WdWUpIHsKICBfaW5oZXJpdHMoTGFuZGluZywgX1Z1ZSk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoTGFuZGluZyk7CgogIGZ1bmN0aW9uIExhbmRpbmcoKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExhbmRpbmcpOwoKICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcyk7CiAgICBfdGhpcy5wcm9maWxlID0gbnVsbDsKICAgIF90aGlzLnJldmlld2RQbGFjZUlkID0gIiI7CiAgICBfdGhpcy5yZXZpZXdkUGxhY2VOYW1lID0gIiI7IC8vZHVtbXkgZGF0YQoKICAgIF90aGlzLnBsYWNlcyA9IFtdOwogICAgX3RoaXMubGF0ID0gNDUuNDIyMTY0OTc4OwogICAgX3RoaXMubG5nID0gLTc1LjY5MTY2Mzk7CiAgICBfdGhpcy50eXBlID0gInJlc3RhdXJhbnQiOwogICAgX3RoaXMubG9hZGluZ1BsYWNlcyA9IHRydWU7CiAgICBfdGhpcy5sb2FkaW5nTWFwID0gdHJ1ZTsKICAgIF90aGlzLnJhZGl1cyA9IDU7CiAgICBfdGhpcy5oaWRlUmV2aWV3QWxlcnQgPSB0cnVlOwogICAgX3RoaXMuaW5wdXRfbG9jYXRpb24gPSBudWxsOwoKICAgIGlmICh0eXBlb2YgX3RoaXMuJHJvdXRlLnBhcmFtcy5yZXZpZXcgIT0gInVuZGVmaW5lZCIpIHsKICAgICAgX3RoaXMuaGlkZVJldmlld0FsZXJ0ID0gZmFsc2U7CiAgICAgIF90aGlzLnJldmlld2RQbGFjZUlkID0gX3RoaXMuJHJvdXRlLnBhcmFtcy5wbGFjZV9pZDsKICAgICAgX3RoaXMucmV2aWV3ZFBsYWNlTmFtZSA9IF90aGlzLiRyb3V0ZS5wYXJhbXMucGxhY2VfbmFtZTsKICAgIH0KCiAgICBfdGhpcy5sb2NhdG9yQnV0dG9uUHJlc3NlZCgpOwoKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhMYW5kaW5nLCBbewogICAga2V5OiAibW91bnRlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX21vdW50ZWQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHVzZXIsIGNoZWNrVXNlciwgYWRkcmVzcywgaW5wdXQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy51c2VyX3NlcnZpY2UudXBkYXRlVXNlckxvY2FsU3RvcmFnZSgiIik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudXNlcl9zZXJ2aWNlLmdldEN1cnJlbnRVc2VyKCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHVzZXIgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmICh1c2VyKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMucHJvZmlsZSA9IHVzZXI7IC8vY2hlY2sgdXNlciB0b2tlbiBpcyBleHBpcmVkCgogICAgICAgICAgICAgICAgICBjaGVja1VzZXIgPSB0aGlzLnVzZXJfc2VydmljZS5nZXRVc2VyKHRoaXMucHJvZmlsZS5pZCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhdG9yQnV0dG9uUHJlc3NlZCgpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBpZiAoISh0aGlzLmxhdCAmJiB0aGlzLmxuZyAmJiB0aGlzLmxhdCAhPSA0NS40MjIxNjQ5NzggJiYgdGhpcy5sbmcgIT0gLTc1LjY5MTY2MzkpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGxhY2Vfc2VyLmdldEFkZHJlc3NGb3JDb29yZGluYXRlcyh0aGlzLmxhdCwgdGhpcy5sbmcpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgYWRkcmVzcyA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCEoYWRkcmVzcy5zdGF0dXMgIT0gMjAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicGFjLWlucHV0Iik7CiAgICAgICAgICAgICAgICBpbnB1dC52YWx1ZSA9IGFkZHJlc3MuZGF0YTsKICAgICAgICAgICAgICAgIC8qICAgICAgY29uc3QgYXV0b2NvbXBsZXRlID0gbmV3IGdvb2dsZS5tYXBzLnBsYWNlcy5BdXRvY29tcGxldGUoaW5wdXQpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnYXV0b2NvbXBsZXRlLmdldFBsYWNlKCknKTsKICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGF1dG9jb21wbGV0ZS5nZXRQbGFjZSgpKTsqLwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE4OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9hZE1hcCgpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9hZEluaXRpYWxQbGFjZXMoKTsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgICAgIHJldHVybiBfbW91bnRlZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gbW91bnRlZDsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImNvb3JkaW5hdGVzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfY29vcmRpbmF0ZXMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgIiIuY29uY2F0KHRoaXMubGF0LCAiLCAiKS5jb25jYXQodGhpcy5sbmcpKTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gY29vcmRpbmF0ZXMoKSB7CiAgICAgICAgcmV0dXJuIF9jb29yZGluYXRlcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gY29vcmRpbmF0ZXM7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJsb2FkSW5pdGlhbFBsYWNlcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2xvYWRJbml0aWFsUGxhY2VzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgZ29vZ2xlX3BsYWNlcywgcGxhY2VzLCBpbml0aWFsX3BsYWNlcywgaSwgYnJpdGVfcGxhY2UsIF9wbGFjZXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmdQbGFjZXMgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGxhY2Vfc2VyLnNlYXJjaEdvb2dsZUxvY2F0aW9ucyh0aGlzLmxhdCwgdGhpcy5sbmcsIHRoaXMudHlwZSwgdGhpcy5yYWRpdXMpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBnb29nbGVfcGxhY2VzID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmdQbGFjZXMgPSBmYWxzZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNoZWNrUGxhY2VzSXNGYXZvcml0ZShnb29nbGVfcGxhY2VzLmRhdGEuUmVzdWx0cyk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIHBsYWNlcyA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgdGhpcy5wbGFjZXMgPSBwbGFjZXM7CiAgICAgICAgICAgICAgICBpbml0aWFsX3BsYWNlcyA9IFtdOwoKICAgICAgICAgICAgICAgIGlmICghKGdvb2dsZV9wbGFjZXMuc3RhdHVzID09IDIwMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaSA9IDA7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBpZiAoIShpIDwgZ29vZ2xlX3BsYWNlcy5kYXRhLlJlc3VsdHMubGVuZ3RoKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGxhY2Vfc2VyLmdldEJyaXRlTG9jYXRpb24oZ29vZ2xlX3BsYWNlcy5kYXRhLlJlc3VsdHNbaV0ucGxhY2VfaWQpOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgYnJpdGVfcGxhY2UgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIGluaXRpYWxfcGxhY2VzLnB1c2goYnJpdGVfcGxhY2UuZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBpKys7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tQbGFjZXNJc0Zhdm9yaXRlKGluaXRpYWxfcGxhY2VzKTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIF9wbGFjZXMgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIHRoaXMucGxhY2VzID0gaW5pdGlhbF9wbGFjZXM7CiAgICAgICAgICAgICAgICB0aGlzLmFkZExvY2F0aW9uc1RvR29vZ2xlTWFwcygpOwoKICAgICAgICAgICAgICBjYXNlIDI1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gbG9hZEluaXRpYWxQbGFjZXMoKSB7CiAgICAgICAgcmV0dXJuIF9sb2FkSW5pdGlhbFBsYWNlcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gbG9hZEluaXRpYWxQbGFjZXM7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJmaW5kQ2xvc2VCeUJ1dHRvblByZXNzZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9maW5kQ2xvc2VCeUJ1dHRvblByZXNzZWQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KGUpIHsKICAgICAgICB2YXIgZWwsIGdvb2dsZV9wbGFjZXMsIGksIGJyaXRlX3BsYWNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0eXBlRXJyb3JNZXNzYWdlIik7CgogICAgICAgICAgICAgICAgaWYgKCEoZWwgPT0gbnVsbCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgIiIpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBpZiAoISh0aGlzLnR5cGUgPT0gIiIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZWwuaW5uZXJIVE1MID0gIlRoaXMgZmllbGQgaXMgcmVxdWlyZWQiOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsICIiKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgZWwuaW5uZXJIVE1MID0gIiI7CiAgICAgICAgICAgICAgICBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwbGFjZUVycm9yTWVzc2FnZSIpOwoKICAgICAgICAgICAgICAgIGlmICghKGVsID09IG51bGwpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCAiIik7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBpZiAoISh0aGlzLmlucHV0X2xvY2F0aW9uID09IG51bGwpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGVsLmlubmVySFRNTCA9ICJUaGlzIGZpZWxkIGlzIHJlcXVpcmVkIjsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCAiIik7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBlbC5pbm5lckhUTUwgPSAnJzsKICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZ1BsYWNlcyA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGxhY2Vfc2VyLnNlYXJjaEdvb2dsZUxvY2F0aW9ucyh0aGlzLmxhdCwgdGhpcy5sbmcsIHRoaXMudHlwZSwgdGhpcy5yYWRpdXMpOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgZ29vZ2xlX3BsYWNlcyA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgdGhpcy5wbGFjZXMgPSBbXTsKCiAgICAgICAgICAgICAgICBpZiAoIShnb29nbGVfcGxhY2VzLnN0YXR1cyA9PSAyMDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMzA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGkgPSAwOwoKICAgICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgICAgaWYgKCEoaSA8IGdvb2dsZV9wbGFjZXMuZGF0YS5SZXN1bHRzLmxlbmd0aCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyOTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyNDsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBsYWNlX3Nlci5nZXRCcml0ZUxvY2F0aW9uKGdvb2dsZV9wbGFjZXMuZGF0YS5SZXN1bHRzW2ldLnBsYWNlX2lkKTsKCiAgICAgICAgICAgICAgY2FzZSAyNDoKICAgICAgICAgICAgICAgIGJyaXRlX3BsYWNlID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgICAgICB0aGlzLnBsYWNlcy5wdXNoKGJyaXRlX3BsYWNlLmRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgICAgICAgaSsrOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyMTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDI5OgogICAgICAgICAgICAgICAgdGhpcy5hZGRMb2NhdGlvbnNUb0dvb2dsZU1hcHMoKTsKCiAgICAgICAgICAgICAgY2FzZSAzMDoKICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZ1BsYWNlcyA9IGZhbHNlOwoKICAgICAgICAgICAgICBjYXNlIDMxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0LCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZmluZENsb3NlQnlCdXR0b25QcmVzc2VkKF94KSB7CiAgICAgICAgcmV0dXJuIF9maW5kQ2xvc2VCeUJ1dHRvblByZXNzZWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZpbmRDbG9zZUJ5QnV0dG9uUHJlc3NlZDsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImFkZExvY2F0aW9uc1RvR29vZ2xlTWFwcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkTG9jYXRpb25zVG9Hb29nbGVNYXBzKCkgewogICAgICB0aGlzLmxvYWRNYXAoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJsb2NhdG9yQnV0dG9uUHJlc3NlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2xvY2F0b3JCdXR0b25QcmVzc2VkID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oZnVuY3Rpb24gKHBvc2l0aW9uKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5sYXQgPSBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGU7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5sbmcgPSBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlOwogICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJFcnJvciBnZXR0aW5nIGxvY2F0aW9uIik7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gbG9jYXRvckJ1dHRvblByZXNzZWQoKSB7CiAgICAgICAgcmV0dXJuIF9sb2NhdG9yQnV0dG9uUHJlc3NlZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gbG9jYXRvckJ1dHRvblByZXNzZWQ7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJsb2FkTWFwIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfbG9hZE1hcCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICAgIHZhciBvcHRpb25zLCBsb2FkZXIsIGdvb2dsZSwgY29uLCBpbmZvd2luZG93LCBpbmZvd2luZG93Q29udGVudCwgaW5wdXQsIGF1dG9jb21wbGV0ZSwgbWFwOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBvcHRpb25zID0gewogICAgICAgICAgICAgICAgICBsYW5ndWFnZTogImVuIiwKICAgICAgICAgICAgICAgICAgbGlicmFyaWVzOiBbImRyYXdpbmciLCAiZ2VvbWV0cnkiLCAibG9jYWxDb250ZXh0ICIsICJwbGFjZXMiLCAidmlzdWFsaXphdGlvbiJdCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgbG9hZGVyID0gbmV3IExvYWRlcigiQUl6YVN5RE1xckk4aE1xaXlJUGRRVWtSVWVyZG9oeDI4RnV2NHdFIiwgb3B0aW9ucyk7CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gbG9hZGVyLmxvYWQoKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgZ29vZ2xlID0gX2NvbnRleHQ2LnNlbnQ7CiAgICAgICAgICAgICAgICBjb24gPSB0aGlzLiRyZWZzLm1hcDsKICAgICAgICAgICAgICAgIGluZm93aW5kb3cgPSBuZXcgZ29vZ2xlLm1hcHMuSW5mb1dpbmRvdygpOwogICAgICAgICAgICAgICAgaW5mb3dpbmRvd0NvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW5mb3dpbmRvdy1jb250ZW50Iik7CiAgICAgICAgICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwYWMtaW5wdXQiKTsKICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRfbG9jYXRpb24gPSBpbnB1dC52YWx1ZTsKICAgICAgICAgICAgICAgIGF1dG9jb21wbGV0ZSA9IG5ldyBnb29nbGUubWFwcy5wbGFjZXMuQXV0b2NvbXBsZXRlKGlucHV0KTsgLy8gQmluZCB0aGUgbWFwJ3MgYm91bmRzICh2aWV3cG9ydCkgcHJvcGVydHkgdG8gdGhlIGF1dG9jb21wbGV0ZSBvYmplY3QsCiAgICAgICAgICAgICAgICAvLyBzbyB0aGF0IHRoZSBhdXRvY29tcGxldGUgcmVxdWVzdHMgdXNlIHRoZSBjdXJyZW50IG1hcCBib3VuZHMgZm9yIHRoZQogICAgICAgICAgICAgICAgLy8gYm91bmRzIG9wdGlvbiBpbiB0aGUgcmVxdWVzdC4KCiAgICAgICAgICAgICAgICBhdXRvY29tcGxldGUuYWRkTGlzdGVuZXIoInBsYWNlX2NoYW5nZWQiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIGF1dG9jb21wbGV0ZS5iaW5kVG8oImJvdW5kcyIsIG1hcCk7IC8vIFNldCB0aGUgZGF0YSBmaWVsZHMgdG8gcmV0dXJuIHdoZW4gdGhlIHVzZXIgc2VsZWN0cyBhIHBsYWNlLgoKICAgICAgICAgICAgICAgICAgYXV0b2NvbXBsZXRlLnNldEZpZWxkcyhbImFkZHJlc3NfY29tcG9uZW50cyIsICJnZW9tZXRyeSIsICJpY29uIiwgIm5hbWUiXSk7IC8vZ2V0IGF1dG9jb21wbGV0ZSBsb2NhdGlvbgoKICAgICAgICAgICAgICAgICAgdmFyIGlucHV0X2xvY2F0aW9uID0gYXV0b2NvbXBsZXRlLmdldFBsYWNlKCk7CgogICAgICAgICAgICAgICAgICBpZiAoaW5wdXRfbG9jYXRpb24gPT0gbnVsbCB8fCBpbnB1dF9sb2NhdGlvbi5nZW9tZXRyeSA9PSBudWxsIHx8IGlucHV0X2xvY2F0aW9uLmdlb21ldHJ5LmxvY2F0aW9uID09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF90aGlzMy5pbnB1dF9sb2NhdGlvbiA9IGlucHV0X2xvY2F0aW9uOwogICAgICAgICAgICAgICAgICBfdGhpczMubGF0ID0gaW5wdXRfbG9jYXRpb24uZ2VvbWV0cnkubG9jYXRpb24ubGF0KCk7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5sbmcgPSBpbnB1dF9sb2NhdGlvbi5nZW9tZXRyeS5sb2NhdGlvbi5sbmcoKTsKICAgICAgICAgICAgICAgICAgaW5mb3dpbmRvdy5jbG9zZSgpOwogICAgICAgICAgICAgICAgICB2YXIgbWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7CiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBnb29nbGUubWFwcy5MYXRMbmcoaW5wdXRfbG9jYXRpb24uZ2VvbWV0cnkubG9jYXRpb24ubGF0KCksIGlucHV0X2xvY2F0aW9uLmdlb21ldHJ5LmxvY2F0aW9uLmxuZygpKSwKICAgICAgICAgICAgICAgICAgICBtYXA6IG1hcAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgbWFya2VyLnNldFZpc2libGUoZmFsc2UpOwogICAgICAgICAgICAgICAgICB2YXIgcGxhY2UgPSBhdXRvY29tcGxldGUuZ2V0UGxhY2UoKTsKCiAgICAgICAgICAgICAgICAgIGlmICghcGxhY2UuZ2VvbWV0cnkpIHsKICAgICAgICAgICAgICAgICAgICAvLyBVc2VyIGVudGVyZWQgdGhlIG5hbWUgb2YgYSBQbGFjZSB0aGF0IHdhcyBub3Qgc3VnZ2VzdGVkIGFuZAogICAgICAgICAgICAgICAgICAgIC8vIHByZXNzZWQgdGhlIEVudGVyIGtleSwgb3IgdGhlIFBsYWNlIERldGFpbHMgcmVxdWVzdCBmYWlsZWQuCiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmZsYXNoKCJObyBkZXRhaWxzIGF2YWlsYWJsZSBmb3IgaW5wdXQ6ICciICsgcGxhY2UubmFtZSArICInIiwgImVycm9yIiwgewogICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogNTAwMAogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgIH0gLy8gSWYgdGhlIHBsYWNlIGhhcyBhIGdlb21ldHJ5LCB0aGVuIHByZXNlbnQgaXQgb24gYSBtYXAuCgoKICAgICAgICAgICAgICAgICAgaWYgKHBsYWNlLmdlb21ldHJ5LnZpZXdwb3J0KSB7CiAgICAgICAgICAgICAgICAgICAgbWFwLmZpdEJvdW5kcyhwbGFjZS5nZW9tZXRyeS52aWV3cG9ydCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgbWFwLnNldENlbnRlcihwbGFjZS5nZW9tZXRyeS5sb2NhdGlvbik7CiAgICAgICAgICAgICAgICAgICAgbWFwLnNldFpvb20oMTcpOyAvLyBXaHkgMTc/IEJlY2F1c2UgaXQgbG9va3MgZ29vZC4KICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgbWFya2VyLnNldFBvc2l0aW9uKHBsYWNlLmdlb21ldHJ5LmxvY2F0aW9uKTsKICAgICAgICAgICAgICAgICAgbWFya2VyLnNldFZpc2libGUodHJ1ZSk7CiAgICAgICAgICAgICAgICAgIHZhciBhZGRyZXNzID0gIiI7CgogICAgICAgICAgICAgICAgICBpZiAocGxhY2UuYWRkcmVzc19jb21wb25lbnRzKSB7CiAgICAgICAgICAgICAgICAgICAgYWRkcmVzcyA9IFtwbGFjZS5hZGRyZXNzX2NvbXBvbmVudHNbMF0gJiYgcGxhY2UuYWRkcmVzc19jb21wb25lbnRzWzBdLnNob3J0X25hbWUgfHwgIiIsIHBsYWNlLmFkZHJlc3NfY29tcG9uZW50c1sxXSAmJiBwbGFjZS5hZGRyZXNzX2NvbXBvbmVudHNbMV0uc2hvcnRfbmFtZSB8fCAiIiwgcGxhY2UuYWRkcmVzc19jb21wb25lbnRzWzJdICYmIHBsYWNlLmFkZHJlc3NfY29tcG9uZW50c1syXS5zaG9ydF9uYW1lIHx8ICIiXS5qb2luKCIgIik7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGluZm93aW5kb3cuc2V0Q29udGVudCgiPGRpdiBjbGFzcz1cInVpIGhlYWRlclwiPiIuY29uY2F0KHBsYWNlLm5hbWUsICI8L2Rpdj48cD4iKS5jb25jYXQocGxhY2UuZm9ybWF0dGVkX2FkZHJlc3MsICI8L3A+IikpOwogICAgICAgICAgICAgICAgICBpbmZvd2luZG93Lm9wZW4obWFwLCBtYXJrZXIpOwogICAgICAgICAgICAgICAgfSk7IC8vbG9hZCBtYXAKCiAgICAgICAgICAgICAgICBtYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGNvbiwgewogICAgICAgICAgICAgICAgICBjZW50ZXI6IHsKICAgICAgICAgICAgICAgICAgICBsYXQ6IHRoaXMubGF0LAogICAgICAgICAgICAgICAgICAgIGxuZzogdGhpcy5sbmcKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgem9vbTogMTQKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdGhpcy5wbGFjZXMuZm9yRWFjaChmdW5jdGlvbiAocGxhY2UpIHsKICAgICAgICAgICAgICAgICAgdmFyIGxhdCA9IHBsYWNlLmdlb21ldHJ5LmxvY2F0aW9uLmxhdDsKICAgICAgICAgICAgICAgICAgdmFyIGxuZyA9IHBsYWNlLmdlb21ldHJ5LmxvY2F0aW9uLmxuZzsKICAgICAgICAgICAgICAgICAgdmFyIG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoewogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGxhdCwgbG5nKSwKICAgICAgICAgICAgICAgICAgICBtYXA6IG1hcAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIobWFya2VyLCAiY2xpY2siLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgaW5mb3dpbmRvdy5zZXRDb250ZW50KCI8ZGl2IGNsYXNzPVwidWkgaGVhZGVyXCI+Ii5jb25jYXQocGxhY2UubmFtZSwgIjwvZGl2PjxwPiIpLmNvbmNhdChwbGFjZS5mb3JtYXR0ZWRfYWRkcmVzcywgIjwvcD4iKSk7CiAgICAgICAgICAgICAgICAgICAgaW5mb3dpbmRvdy5vcGVuKG1hcCwgbWFya2VyKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNiwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGxvYWRNYXAoKSB7CiAgICAgICAgcmV0dXJuIF9sb2FkTWFwLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBsb2FkTWFwOwogICAgfSgpCiAgfSwgewogICAga2V5OiAiY3JlYXRlUmV2aWV3IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVSZXZpZXcocGxhY2VfaWQsIHBsYWNlX25hbWUpIHsKICAgICAgaWYgKHRoaXMuY2hlY2tVc2VyV2FsbGV0KCkpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAibmV3X3JldmlldyIsCiAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgJ3BsYWNlX2lkJzogcGxhY2VfaWQsCiAgICAgICAgICAgICdwbGFjZV9uYW1lJzogcGxhY2VfbmFtZQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAidHlwZUNoYW5nZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHR5cGVDaGFuZ2VkKCkgewogICAgICB2YXIgc2VsZWN0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi50eXBlLWxhYmVsIik7CgogICAgICBpZiAoc2VsZWN0RWxlbWVudCAhPSBudWxsKSB7CiAgICAgICAgc2VsZWN0RWxlbWVudC5jbGFzc0xpc3QuYWRkKCJkLW5vbmUiKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogInJhZGl1c0NoYW5nZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJhZGl1c0NoYW5nZWQoKSB7CiAgICAgIHZhciBzZWxlY3RFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnJhZGl1cy1sYWJlbCIpOwoKICAgICAgaWYgKHNlbGVjdEVsZW1lbnQgIT0gbnVsbCkgewogICAgICAgIHNlbGVjdEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgiZC1ub25lIik7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJpbWFnZVVybEFsdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaW1hZ2VVcmxBbHQoZXZlbnQpIHsKICAgICAgZXZlbnQudGFyZ2V0LnNyYyA9IHJlcXVpcmUoIkAvYXNzZXRzL2ltYWdlcy9uby1waG90by1hdmF0YXIucG5nIik7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVtb3ZlUmV2aWV3QWxlcnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZVJldmlld0FsZXJ0KCkgewogICAgICB0aGlzLmhpZGVSZXZpZXdBbGVydCA9IHRydWU7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0Um91dGVQYXRoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRSb3V0ZVBhdGgobmFtZSwgcGFyYW1ldGVycykgewogICAgICByZXR1cm4gdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgcGFyYW1zOiBwYXJhbWV0ZXJzCiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImdvVG9QaG90b3MiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdvVG9QaG90b3MocGxhY2UpIHsKICAgICAgdGhpcy5nZXRSb3V0ZVBhdGgoInBsYWNlX3Bob3RvcyIsIHsKICAgICAgICBwbGFjZTogcGxhY2UKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiYWRkRmF2b3JpdGVQbGFjZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2FkZEZhdm9yaXRlUGxhY2UgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KHBsYWNlX2lkKSB7CiAgICAgICAgdmFyIGFkZF9mYXZvcml0ZV9wbGFjZSwgZWxlbWVudDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrVXNlcldhbGxldCgpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmF2b3JpdGVzX3Nlci5hZGRGYXZvcml0ZSh0aGlzLnByb2ZpbGUuaWQsICdsb2NhdGlvbicsIHBsYWNlX2lkKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgYWRkX2Zhdm9yaXRlX3BsYWNlID0gX2NvbnRleHQ3LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKGFkZF9mYXZvcml0ZV9wbGFjZS5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmF2b3JpdGVfJyArIHBsYWNlX2lkKTsKICAgICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdmYXInKTsKICAgICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdmYXMnKTsKICAgICAgICAgICAgICAgICAgdGhpcy5mbGFzaCgnUGxhY2UgaGFzIGJlZW4gYWRkZWQgYXMgeW91ciBmYXZvcml0ZScsICdzdWNjZXNzJywgewogICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDUwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKGFkZF9mYXZvcml0ZV9wbGFjZS5zdGF0dXMgPT0gNDA5KSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuZmxhc2goJ1lvdSBoYXZlIGFscmVhZHkgYWRkZWQgdGhpcyBwbGFjZSB0byBmYXZvcml0ZScsICdlcnJvcicsIHsKICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiA1MDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTcsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBhZGRGYXZvcml0ZVBsYWNlKF94MikgewogICAgICAgIHJldHVybiBfYWRkRmF2b3JpdGVQbGFjZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gYWRkRmF2b3JpdGVQbGFjZTsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImdldEJhc2VVcmwiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEJhc2VVcmwoKSB7CiAgICAgIHJldHVybiB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgdGhpcy4kcm91dGUucGF0aDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJsb2dvdXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9sb2dvdXQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgidXNlciIpOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTgpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgICAgICAgcmV0dXJuIF9sb2dvdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGxvZ291dDsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImNoZWNrVXNlcldhbGxldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tVc2VyV2FsbGV0KCkgewogICAgICBpZiAodGhpcy5wcm9maWxlKSB7CiAgICAgICAgaWYgKHRoaXMucHJvZmlsZS53YWxsZXQpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImNoZWNrUGxhY2VzSXNGYXZvcml0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2NoZWNrUGxhY2VzSXNGYXZvcml0ZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkocGxhY2VzKSB7CiAgICAgICAgdmFyIGZhdm9yaXRlX3BsYWNlcywgZmF2b3JpdGVfbG9jYXRpb25zLCBpLCBqOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mYXZvcml0ZXNfc2VyLnBsYWNlcyh0aGlzLnByb2ZpbGUuaWQpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBmYXZvcml0ZV9wbGFjZXMgPSBfY29udGV4dDkuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoZmF2b3JpdGVfcGxhY2VzLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgZmF2b3JpdGVfcGxhY2VzID0gZmF2b3JpdGVfcGxhY2VzLmRhdGE7CiAgICAgICAgICAgICAgICAgIGZhdm9yaXRlX2xvY2F0aW9ucyA9IG5ldyBBcnJheShmYXZvcml0ZV9wbGFjZXMubGVuZ3RoKTsKCiAgICAgICAgICAgICAgICAgIGlmIChmYXZvcml0ZV9wbGFjZXMgJiYgZmF2b3JpdGVfcGxhY2VzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBmYXZvcml0ZV9wbGFjZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBwbGFjZXMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZhdm9yaXRlX3BsYWNlc1tpXS5mYXZvcml0ZSA9PSBwbGFjZXNbal0ucGxhY2VfaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZXNbal0uaXNGYXZvcml0ZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LmFicnVwdCgicmV0dXJuIiwgcGxhY2VzKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU5LCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gY2hlY2tQbGFjZXNJc0Zhdm9yaXRlKF94MykgewogICAgICAgIHJldHVybiBfY2hlY2tQbGFjZXNJc0Zhdm9yaXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBjaGVja1BsYWNlc0lzRmF2b3JpdGU7CiAgICB9KCkKICB9XSk7CgogIHJldHVybiBMYW5kaW5nOwp9KFZ1ZSk7CgpfX2RlY29yYXRlKFtJbmplY3QoImZhdm9yaXRlc1NlcnZpY2UiKV0sIExhbmRpbmcucHJvdG90eXBlLCAiZmF2b3JpdGVzX3NlciIsIHZvaWQgMCk7CgpfX2RlY29yYXRlKFtJbmplY3QoInBsYWNlU2VydmljZSIpXSwgTGFuZGluZy5wcm90b3R5cGUsICJwbGFjZV9zZXIiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbSW5qZWN0KCJ1c2VyU2VydmljZSIpXSwgTGFuZGluZy5wcm90b3R5cGUsICJ1c2VyX3NlcnZpY2UiLCB2b2lkIDApOwoKTGFuZGluZyA9IF9fZGVjb3JhdGUoW0NvbXBvbmVudCh7CiAgY29tcG9uZW50czogewogICAgSGVhZGVyOiBIZWFkZXIsCiAgICBGb290ZXI6IEZvb3RlcgogIH0sCiAgbWV0YUluZm86IHsKICAgIHRpdGxlOiAiQnJpdGV2dWUgLSBCbG9ja2NoYWluIHZlcmlmaWVkIHJldmlld3Mgd2hlcmUgcmV2aWV3ZXJzIGdldCBwYWlkIiwKICAgIG1ldGE6IFt7CiAgICAgIG5hbWU6ICd0aXRsZScsCiAgICAgIGNvbnRlbnQ6ICdCcml0ZXZ1ZSAtIEJsb2NrY2hhaW4gdmVyaWZpZWQgcmV2aWV3cyB3aGVyZSByZXZpZXdlcnMgZ2V0IHBhaWQnCiAgICB9LCB7CiAgICAgIG5hbWU6ICdkZXNjcmlwdGlvbicsCiAgICAgIGNvbnRlbnQ6ICdCZWdpbiBlYXJuaW5nIG1vbmV5IGZvciB5b3VyIHJldmlld3Mgb2YgYnVzaW5lc3NlcyBhbmQgcGxhY2VzIHdpdGggQnJpdGV2dWUuIFdlIHdpbGwgcGF5IHlvdSBmb3IgaW5mb3JtYXRpb24gYWJvdXQgeW91ciBob21ldG93biB0byBnZXQgc3RhcnRlZCEnCiAgICB9LCB7CiAgICAgIGl0ZW1wcm9wOiAnbmFtZScsCiAgICAgIGNvbnRlbnQ6ICJCcml0ZXZ1ZSIKICAgIH0sIHsKICAgICAgaXRlbXByb3A6ICdkZXNjcmlwdGlvbicsCiAgICAgIGNvbnRlbnQ6ICJCZWdpbiBlYXJuaW5nIG1vbmV5IGZvciB5b3VyIHJldmlld3Mgb2YgYnVzaW5lc3NlcyBhbmQgcGxhY2VzIHdpdGggQnJpdGV2dWUuIFdlIHdpbGwgcGF5IHlvdSBmb3IgaW5mb3JtYXRpb24gYWJvdXQgeW91ciBob21ldG93biB0byBnZXQgc3RhcnRlZCEiCiAgICB9LCB7CiAgICAgIGl0ZW1wcm9wOiAnaW1hZ2UnLAogICAgICBjb250ZW50OiByZXF1aXJlKCdAL2Fzc2V0cy9pbWFnZXMvbG9nb19ibGFjay5zdmcnKQogICAgfSwgewogICAgICBwcm9wZXJ0eTogJ29nOnR5cGUnLAogICAgICBjb250ZW50OiAid2Vic2l0ZSIKICAgIH0sIHsKICAgICAgcHJvcGVydHk6ICdvZzp1cmwnLAogICAgICBjb250ZW50OiAiaHR0cHM6Ly9icml0ZXZ1ZS5jb20vIgogICAgfSwgewogICAgICBwcm9wZXJ0eTogJ29nOnRpdGxlJywKICAgICAgY29udGVudDogIkJyaXRldnVlIC0gQmxvY2tjaGFpbiB2ZXJpZmllZCByZXZpZXdzIHdoZXJlIHJldmlld2VycyBnZXQgcGFpZCIKICAgIH0sIHsKICAgICAgcHJvcGVydHk6ICdvZzpkZXNjcmlwdGlvbicsCiAgICAgIGNvbnRlbnQ6ICJCZWdpbiBlYXJuaW5nIG1vbmV5IGZvciB5b3VyIHJldmlld3Mgb2YgYnVzaW5lc3NlcyBhbmQgcGxhY2VzIHdpdGggQnJpdGV2dWUuIFdlIHdpbGwgcGF5IHlvdSBmb3IgaW5mb3JtYXRpb24gYWJvdXQgeW91ciBob21ldG93biB0byBnZXQgc3RhcnRlZCEiCiAgICB9LCB7CiAgICAgIHByb3BlcnR5OiAnb2c6aW1hZ2UnLAogICAgICBjb250ZW50OiByZXF1aXJlKCdAL2Fzc2V0cy9pbWFnZXMvbG9nb19ibGFjay5zdmcnKQogICAgfSwgewogICAgICBwcm9wZXJ0eTogJ29nOnNpdGVfbmFtZScsCiAgICAgIGNvbnRlbnQ6ICdicml0ZXZ1ZScKICAgIH0sIHsKICAgICAgbmFtZTogJ3R3aXR0ZXI6Y2FyZCcsCiAgICAgIGNvbnRlbnQ6ICJzdW1tYXJ5X2xhcmdlX2ltYWdlIgogICAgfSwgewogICAgICBuYW1lOiAndHdpdHRlcjp1cmwnLAogICAgICBjb250ZW50OiAiaHR0cHM6Ly9icml0ZXZ1ZS5jb20vIgogICAgfSwgewogICAgICBuYW1lOiAndHdpdHRlcjp0aXRsZScsCiAgICAgIGNvbnRlbnQ6ICJCcml0ZXZ1ZSAtIEJsb2NrY2hhaW4gdmVyaWZpZWQgcmV2aWV3cyB3aGVyZSByZXZpZXdlcnMgZ2V0IHBhaWQiCiAgICB9LCB7CiAgICAgIG5hbWU6ICd0d2l0dGVyOmRlc2NyaXB0aW9uJywKICAgICAgY29udGVudDogIkJlZ2luIGVhcm5pbmcgbW9uZXkgZm9yIHlvdXIgcmV2aWV3cyBvZiBidXNpbmVzc2VzIGFuZCBwbGFjZXMgd2l0aCBCcml0ZXZ1ZS4gV2Ugd2lsbCBwYXkgeW91IGZvciBpbmZvcm1hdGlvbiBhYm91dCB5b3VyIGhvbWV0b3duIHRvIGdldCBzdGFydGVkISIKICAgIH0sIHsKICAgICAgbmFtZTogJ3R3aXR0ZXI6aW1hZ2UnLAogICAgICBjb250ZW50OiByZXF1aXJlKCdAL2Fzc2V0cy9pbWFnZXMvbG9nb19ibGFjay5zdmcnKQogICAgfV0KICB9Cn0pXSwgTGFuZGluZyk7CmV4cG9ydCBkZWZhdWx0IExhbmRpbmc7"},{"version":3,"sources":["/home/cmurray/britevue-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/cmurray/britevue-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cmurray/britevue-frontend/src/views/Dashboard/Landing/Landing.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport axios from \"axios\";\nimport { Vue, Component, Inject } from \"vue-property-decorator\";\nimport { IGooglePlace } from \"@/interfaces/IGooglePlace\";\nimport { Loader, LoaderOptions } from \"google-maps\";\nimport Header from \"@/layouts/dashboard/Header/Header.vue\";\nimport Footer from \"@/layouts/dashboard/Footer/Footer.vue\";\nimport { UserService } from \"@/services/UserService\";\nimport { IUser } from \"@/interfaces/IUser\";\nimport { PlaceService } from \"@/services/PlaceService\";\nimport { FavoritesService } from \"@/services/FavoritesService\";\n@Component({\n  components: {\n    Header,\n    Footer,\n  },\n  metaInfo:{\n    title: \"Britevue - Blockchain verified reviews where reviewers get paid\",\n    meta: [\n      { name:'title',content:'Britevue - Blockchain verified reviews where reviewers get paid'},\n      { name: 'description', content:  'Begin earning money for your reviews of businesses and places with Britevue. We will pay you for information about your hometown to get started!'},\n      { itemprop: 'name', content: \"Britevue\"},\n      { itemprop: 'description', content: \"Begin earning money for your reviews of businesses and places with Britevue. We will pay you for information about your hometown to get started!\"},\n      { itemprop: 'image', content:  require('@/assets/images/logo_black.svg')},\n      { property: 'og:type', content: \"website\"},\n      { property: 'og:url', content: \"https://britevue.com/\"},\n      { property: 'og:title', content: \"Britevue - Blockchain verified reviews where reviewers get paid\"},\n      { property: 'og:description', content: \"Begin earning money for your reviews of businesses and places with Britevue. We will pay you for information about your hometown to get started!\"},\n      { property: 'og:image', content:  require('@/assets/images/logo_black.svg')},\n      { property: 'og:site_name', content: 'britevue'},\n      { name: 'twitter:card', content: \"summary_large_image\"},\n      { name: 'twitter:url', content: \"https://britevue.com/\"},\n      { name: 'twitter:title', content: \"Britevue - Blockchain verified reviews where reviewers get paid\"},\n      { name: 'twitter:description', content: \"Begin earning money for your reviews of businesses and places with Britevue. We will pay you for information about your hometown to get started!\"},\n      { name: 'twitter:image', content: require('@/assets/images/logo_black.svg') },\n    ]\n  }\n})\nexport default class Landing extends Vue {\n  profile: IUser | null = null;\n  lat: number;\n  lng: number;\n  type: string;\n  loadingPlaces: boolean;\n  loadingMap: boolean;\n  radius: number;\n  hideReviewAlert: boolean;\n  reviewdPlaceId: string = \"\";\n  reviewdPlaceName: string = \"\";\n  input_location: any;\n\n  @Inject(\"favoritesService\")\n  favorites_ser!: FavoritesService;\n\n  @Inject(\"placeService\")\n  place_ser!: PlaceService;\n\n  @Inject(\"userService\")\n  user_service!: UserService;\n\n  flash: any;\n\n  constructor() {\n    super();\n    this.lat = 45.422164978;\n    this.lng = -75.6916639;\n    this.type = \"restaurant\";\n    this.loadingPlaces = true;\n    this.loadingMap = true;\n    this.radius = 5;\n    this.hideReviewAlert = true;\n    this.input_location = null;\n    if (typeof this.$route.params.review != \"undefined\") {\n      this.hideReviewAlert = false;\n      this.reviewdPlaceId = this.$route.params.place_id;\n      this.reviewdPlaceName = this.$route.params.place_name;\n    }\n\n    this.locatorButtonPressed();\n  }\n\n  async mounted() {\n    await this.user_service.updateUserLocalStorage(\"\");\n    const user = await this.user_service.getCurrentUser();\n    if (user) {\n      this.profile = user;\n      //check user token is expired\n      const checkUser = this.user_service.getUser(this.profile.id);\n    }\n\n    await this.locatorButtonPressed();\n\n    if(this.lat && this.lng && this.lat != 45.422164978 && this.lng != -75.6916639) {\n      const address = await this.place_ser.getAddressForCoordinates(this.lat,this.lng);\n/*       console.log('address');\n       console.log(address);*/\n      if (address.status != 200) {\n        return\n      }\n      const input = document.getElementById(\"pac-input\") as HTMLInputElement;\n\n      input.value = address.data;\n/*      const autocomplete = new google.maps.places.Autocomplete(input);\n\n      console.log('autocomplete.getPlace()');\n      console.log(autocomplete.getPlace());*/\n\n    }\n    await this.loadMap();\n    await this.loadInitialPlaces();\n\n  }\n  async coordinates() {\n    return `${this.lat}, ${this.lng}`;\n  }\n  async loadInitialPlaces() {\n    this.loadingPlaces = true\n    const google_places = await this.place_ser.searchGoogleLocations(this.lat,this.lng,this.type,this.radius);\n    this.loadingPlaces = false;\n   const places = await this.checkPlacesIsFavorite(google_places.data.Results);\n    this.places = places;\n\n    let initial_places=[];\n    if (google_places.status== 200) {\n      for (let i=0;i<google_places.data.Results.length;i++) {\n        const brite_place = await this.place_ser.getBriteLocation(google_places.data.Results[i].place_id)\n\n        initial_places.push(brite_place.data)\n      }\n      const places = await this.checkPlacesIsFavorite(initial_places);\n      this.places=initial_places\n      this.addLocationsToGoogleMaps();\n    }\n\n  }\n  async findCloseByButtonPressed(e: any) {\n    let el = document.getElementById(\"typeErrorMessage\");\n    if (el == null) {\n      return \"\";\n    }\n    if (this.type == \"\") {\n      el.innerHTML = \"This field is required\";\n      return \"\";\n    }\n    el.innerHTML = \"\";\n    el = document.getElementById(\"placeErrorMessage\");\n    if (el == null) {\n      return \"\";\n    }\n\n    if (this.input_location == null) {\n      el.innerHTML = \"This field is required\";\n      return \"\";\n    }\n    el.innerHTML='';\n    this.loadingPlaces = true\n    const google_places = await this.place_ser.searchGoogleLocations(this.lat,this.lng,this.type,this.radius);\n    this.places = []\n    if (google_places.status==200) {\n        for (let i=0;i<google_places.data.Results.length;i++) {\n          const brite_place = await this.place_ser.getBriteLocation(google_places.data.Results[i].place_id)\n          this.places.push(brite_place.data)\n        }\n        this.addLocationsToGoogleMaps();\n    }\n    this.loadingPlaces = false;\n  }\n  addLocationsToGoogleMaps() {\n    this.loadMap();\n  }\n  async locatorButtonPressed() {\n    navigator.geolocation.getCurrentPosition(\n      (position) => {\n        this.lat = position.coords.latitude;\n        this.lng = position.coords.longitude;\n      },\n      (error) => {\n        console.log(\"Error getting location\");\n      }\n    );\n\n\n  }\n\n  //dummy data\n  places: IGooglePlace[] = [];\n\n  async loadMap() {\n    const options: LoaderOptions = {\n      language: \"en\",\n      libraries: [\n        \"drawing\",\n        \"geometry\",\n        \"localContext \",\n        \"places\",\n        \"visualization\",\n      ],\n    };\n    const loader = new Loader(\n      \"AIzaSyDMqrI8hMqiyIPdQUkRUerdohx28Fuv4wE\",\n      options\n    );\n    const google = await loader.load();\n    const con: any = this.$refs.map;\n    const infowindow = new google.maps.InfoWindow();\n    const infowindowContent = document.getElementById(\n      \"infowindow-content\"\n    ) as HTMLElement;\n    const input = document.getElementById(\"pac-input\") as HTMLInputElement;\n    this.input_location=input.value;\n    const autocomplete = new google.maps.places.Autocomplete(input);\n    // Bind the map's bounds (viewport) property to the autocomplete object,\n    // so that the autocomplete requests use the current map bounds for the\n    // bounds option in the request.\n    autocomplete.addListener(\"place_changed\", () => {\n      autocomplete.bindTo(\"bounds\", map);\n      // Set the data fields to return when the user selects a place.\n      autocomplete.setFields([\n        \"address_components\",\n        \"geometry\",\n        \"icon\",\n        \"name\",\n      ]);\n      //get autocomplete location\n      const input_location = autocomplete.getPlace();\n\n      if (\n        input_location == null ||\n        input_location.geometry == null ||\n        input_location.geometry.location == null\n      ) {\n        return;\n      }\n      this.input_location = input_location;\n      this.lat = input_location.geometry.location.lat();\n      this.lng = input_location.geometry.location.lng();\n\n      infowindow.close();\n      const marker = new google.maps.Marker({\n        position: new google.maps.LatLng(\n          input_location.geometry.location.lat(),\n          input_location.geometry.location.lng()\n        ),\n        map: map,\n      });\n      marker.setVisible(false);\n      const place = autocomplete.getPlace();\n\n      if (!place.geometry) {\n        // User entered the name of a Place that was not suggested and\n        // pressed the Enter key, or the Place Details request failed.\n        this.flash(\n          \"No details available for input: '\" + place.name + \"'\",\n          \"error\",\n          { timeout: 5000 }\n        );\n        return;\n      }\n\n      // If the place has a geometry, then present it on a map.\n      if (place.geometry.viewport) {\n        map.fitBounds(place.geometry.viewport);\n      } else {\n        map.setCenter(place.geometry.location);\n        map.setZoom(17); // Why 17? Because it looks good.\n      }\n      marker.setPosition(place.geometry.location);\n      marker.setVisible(true);\n\n      let address = \"\";\n\n      if (place.address_components) {\n        address = [\n          (place.address_components[0] &&\n            place.address_components[0].short_name) ||\n            \"\",\n          (place.address_components[1] &&\n            place.address_components[1].short_name) ||\n            \"\",\n          (place.address_components[2] &&\n            place.address_components[2].short_name) ||\n            \"\",\n        ].join(\" \");\n      }\n      infowindow.setContent(\n        `<div class=\"ui header\">${place.name}</div><p>${place.formatted_address}</p>`\n      );\n      infowindow.open(map, marker);\n    });\n\n    //load map\n    const map = new google.maps.Map(con, {\n      center: { lat: this.lat, lng: this.lng },\n      zoom: 14,\n    });\n\n    this.places.forEach((place) => {\n      const lat = place.geometry.location.lat;\n      const lng = place.geometry.location.lng;\n      const marker = new google.maps.Marker({\n        position: new google.maps.LatLng(lat, lng),\n        map: map,\n      });\n      google.maps.event.addListener(marker, \"click\", () => {\n        infowindow.setContent(\n          `<div class=\"ui header\">${place.name}</div><p>${place.formatted_address}</p>`\n        );\n        infowindow.open(map, marker);\n      });\n    });\n  }\n  createReview(place_id: any,place_name: any){\n    if(this.checkUserWallet()){\n      this.$router.push({name: \"new_review\", params: { 'place_id': place_id,'place_name':place_name }});\n    }\n  }\n  typeChanged() {\n    const selectElement = document.querySelector(\".type-label\");\n    if (selectElement != null) {\n      selectElement.classList.add(\"d-none\");\n    }\n  }\n  radiusChanged() {\n    const selectElement = document.querySelector(\".radius-label\");\n    if (selectElement != null) {\n      selectElement.classList.add(\"d-none\");\n    }\n  }\n  imageUrlAlt(event: any) {\n    event.target.src = require(\"@/assets/images/no-photo-avatar.png\");\n  }\n  removeReviewAlert() {\n    this.hideReviewAlert = true;\n  }\n  getRoutePath(name: string, parameters: any) {\n    return this.$router.push({ name: name, params: parameters });\n  }\n  goToPhotos(place: any) {\n    this.getRoutePath(\"place_photos\", { place: place });\n  }\n  async addFavoritePlace(place_id: any){\n    if(this.checkUserWallet()){\n      const add_favorite_place = await this.favorites_ser.addFavorite(this.profile!.id,'location',place_id);\n      if(add_favorite_place.status==200){\n        const element=document.getElementById('favorite_'+place_id) as HTMLElement ;\n        element.classList.remove('far');\n        element.classList.add('fas');\n        this.flash('Place has been added as your favorite', 'success', {timeout: 5000});\n      }\n      if(add_favorite_place.status==409){\n        this.flash('You have already added this place to favorite', 'error', {timeout: 5000});\n      }\n    }\n  }\n  getBaseUrl() {\n    return window.location.origin + this.$route.path;\n  }\n  public async logout() {\n    localStorage.removeItem(\"user\");\n  }\n  checkUserWallet() {\n    if(this.profile){\n      if (this.profile.wallet) {\n        return true;\n      } else {\n        return false;\n      }\n    }else{\n      return false;\n    }\n  }\n\n  async checkPlacesIsFavorite(places: any){\n    let favorite_places = await this.favorites_ser.places(this.profile!.id);\n    if (favorite_places.status == 200) {\n      favorite_places = favorite_places.data;\n      const favorite_locations = new Array(favorite_places.length)\n      if (favorite_places && favorite_places.length) {\n        for (let i = 0; i < favorite_places.length; i++) {\n          for (let j = 0;j < places.length; j++) {\n            if(favorite_places[i].favorite==places[j].place_id){\n              places[j].isFavorite=true;\n            }\n          }\n\n        }\n      }\n    }\n  return places;\n  }\n\n}\n"],"sourceRoot":""}]}