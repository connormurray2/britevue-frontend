{"remainingRequest":"/home/cmurray/britevue-frontend/node_modules/babel-loader/lib/index.js!/home/cmurray/britevue-frontend/node_modules/ts-loader/index.js??ref--14-2!/home/cmurray/britevue-frontend/node_modules/eslint-loader/index.js??ref--13-0!/home/cmurray/britevue-frontend/src/services/ReviewsService.ts","dependencies":[{"path":"/home/cmurray/britevue-frontend/src/services/ReviewsService.ts","mtime":1628691920057},{"path":"/home/cmurray/britevue-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/cmurray/britevue-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/cmurray/britevue-frontend/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/cmurray/britevue-frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvY211cnJheS9icml0ZXZ1ZS1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL2hvbWUvY211cnJheS9icml0ZXZ1ZS1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9ob21lL2NtdXJyYXkvYnJpdGV2dWUtZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICIvaG9tZS9jbXVycmF5L2JyaXRldnVlLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyI7CmltcG9ydCBfY3JlYXRlU3VwZXIgZnJvbSAiL2hvbWUvY211cnJheS9icml0ZXZ1ZS1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIiOwppbXBvcnQgeyBBcGkgfSBmcm9tICJAL3NlcnZpY2VzL0FwaSI7CmltcG9ydCBBeGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCByb3V0ZXIgZnJvbSAiQC9yb3V0ZXIiOwpleHBvcnQgdmFyIFJldmlld3NTZXJ2aWNlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQXBpKSB7CiAgX2luaGVyaXRzKFJldmlld3NTZXJ2aWNlLCBfQXBpKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihSZXZpZXdzU2VydmljZSk7CgogIGZ1bmN0aW9uIFJldmlld3NTZXJ2aWNlKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJldmlld3NTZXJ2aWNlKTsKCiAgICByZXR1cm4gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoUmV2aWV3c1NlcnZpY2UsIFt7CiAgICBrZXk6ICJhbGxVc2VyUmV2aWV3cyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2FsbFVzZXJSZXZpZXdzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGlkKSB7CiAgICAgICAgdmFyIHRva2VuLCB1cmwsIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0b2tlbiA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLnRva2VuKTsKICAgICAgICAgICAgICAgIHVybCA9IHRoaXMuYmFzZV91cmwgKyAiL2FwaS9yZXZpZXdzP2ZpbHRlcj11c2VyJmlkPSIuY29uY2F0KGlkKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gQXhpb3MuZ2V0KHVybCwgewogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04JywKICAgICAgICAgICAgICAgICAgICAiQXV0aG9yaXphdGlvbiI6ICJCZWFyZXIgIiArIHRva2VuLnRva2VuCiAgICAgICAgICAgICAgICAgIH0gLy93aXRoQ3JlZGVudGlhbHM6IHRydWUKCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHJlcyk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA5OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgyKTsKCiAgICAgICAgICAgICAgICBpZiAoIShfY29udGV4dC50MC5yZXNwb25zZS5zdGF0dXMgPT09IDQwMSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aGlzLmxvZ291dCgpOwogICAgICAgICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiAnaG9tZScKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBpZiAoIShfY29udGV4dC50MC5yZXNwb25zZS5zdGF0dXMgPT09IDQwMykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIxOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aGlzLmxvZ291dCgpOwogICAgICAgICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiAnaG9tZScKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dC50MC5yZXNwb25zZSk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzLCBbWzIsIDldXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGFsbFVzZXJSZXZpZXdzKF94KSB7CiAgICAgICAgcmV0dXJuIF9hbGxVc2VyUmV2aWV3cy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gYWxsVXNlclJldmlld3M7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJnZXRSZXZpZXciLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXRSZXZpZXcgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKHJldmlld19pZCkgewogICAgICAgIHZhciB0b2tlbiwgdXJsLCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHRva2VuID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UudG9rZW4pOwogICAgICAgICAgICAgICAgdXJsID0gdGhpcy5iYXNlX3VybCArICIvYXBpL3Jldmlldy8iLmNvbmNhdChyZXZpZXdfaWQpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIEF4aW9zLmdldCh1cmwsIHsKICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCcsCiAgICAgICAgICAgICAgICAgICAgIkF1dGhvcml6YXRpb24iOiAiQmVhcmVyICIgKyB0b2tlbi50b2tlbgogICAgICAgICAgICAgICAgICB9IC8vd2l0aENyZWRlbnRpYWxzOiB0cnVlCgogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIHJlcyk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gOTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgyKTsKCiAgICAgICAgICAgICAgICBpZiAoIShfY29udGV4dDIudDAucmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRoaXMubG9nb3V0KCk7CiAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgIG5hbWU6ICdob21lJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBpZiAoIShfY29udGV4dDIudDAucmVzcG9uc2Uuc3RhdHVzID09PSA0MDMpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRoaXMubG9nb3V0KCk7CiAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgIG5hbWU6ICdob21lJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQyLnQwLnJlc3BvbnNlKTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcywgW1syLCA5XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRSZXZpZXcoX3gyKSB7CiAgICAgICAgcmV0dXJuIF9nZXRSZXZpZXcuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldFJldmlldzsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImNyZWF0ZVJldmlldyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2NyZWF0ZVJldmlldyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTModXNlciwgcGxhY2VfaWQsIHJldmlld19ib2R5LCBzdGFycywgaW1hZ2VIYXNoZXMsIHJldmlld19wYXl3YWxsKSB7CiAgICAgICAgdmFyIHVybCwgdG9rZW4sIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdXJsID0gdGhpcy5iYXNlX3VybCArICIvYXBpL3JldmlldyI7CiAgICAgICAgICAgICAgICB0b2tlbiA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLnRva2VuKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBBeGlvcy5wb3N0KHVybCwgSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgICAidXNlciI6IHVzZXIuaWQsCiAgICAgICAgICAgICAgICAgICJwbGFjZUlkIjogcGxhY2VfaWQsCiAgICAgICAgICAgICAgICAgICJyZXZpZXdCb2R5IjogcmV2aWV3X2JvZHksCiAgICAgICAgICAgICAgICAgICJwaG90b3MiOiBpbWFnZUhhc2hlcywKICAgICAgICAgICAgICAgICAgInJhdGluZ3MiOiB7CiAgICAgICAgICAgICAgICAgICAgInF1YWxpdHkiOiBzdGFycy5xdWFsaXR5LnJhdGUsCiAgICAgICAgICAgICAgICAgICAgImV4cGVyaWVuY2UiOiBzdGFycy5leHBlcmllbmNlLnJhdGUsCiAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogc3RhcnMudmFsdWUucmF0ZQogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAicGF5d2FsbCI6IHsKICAgICAgICAgICAgICAgICAgICAiY29zdCI6IHJldmlld19wYXl3YWxsCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLCB7CiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAnQ29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnLAogICAgICAgICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogIkJlYXJlciAiLmNvbmNhdCh0b2tlbi50b2tlbikKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIHJlcyk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gOTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My50MCA9IF9jb250ZXh0M1siY2F0Y2giXSgyKTsKCiAgICAgICAgICAgICAgICBpZiAoIShfY29udGV4dDMudDAucmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRoaXMubG9nb3V0KCk7CiAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgIG5hbWU6ICdob21lJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBpZiAoIShfY29udGV4dDMudDAucmVzcG9uc2Uuc3RhdHVzID09PSA0MDMpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRoaXMubG9nb3V0KCk7CiAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgIG5hbWU6ICdob21lJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQzLnQwLnJlc3BvbnNlKTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMywgdGhpcywgW1syLCA5XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBjcmVhdGVSZXZpZXcoX3gzLCBfeDQsIF94NSwgX3g2LCBfeDcsIF94OCkgewogICAgICAgIHJldHVybiBfY3JlYXRlUmV2aWV3LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBjcmVhdGVSZXZpZXc7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJzZW5kVGlwIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfc2VuZFRpcCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQodmFsdWUsIHVzZXJJZCwgcmV2aWV3SWQpIHsKICAgICAgICB2YXIgdXJsLCB0b2tlbiwgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB1cmwgPSB0aGlzLmJhc2VfdXJsICsgIi9hcGkvdGlwIjsKICAgICAgICAgICAgICAgIHRva2VuID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UudG9rZW4pOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIEF4aW9zLnBvc3QodXJsLCBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgICAgICAgICJ0aXBVc2VyIjogdXNlcklkLAogICAgICAgICAgICAgICAgICAiYW1vdW50IjogdmFsdWUsCiAgICAgICAgICAgICAgICAgICJyZXZpZXdUeCI6IHJldmlld0lkCiAgICAgICAgICAgICAgICB9KSwgewogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04JywKICAgICAgICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6ICJCZWFyZXIgIi5jb25jYXQodG9rZW4udG9rZW4pCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCByZXMpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfY29udGV4dDQucHJldiA9IDk7CiAgICAgICAgICAgICAgICBfY29udGV4dDQudDAgPSBfY29udGV4dDRbImNhdGNoIl0oMik7CgogICAgICAgICAgICAgICAgaWYgKCEoX2NvbnRleHQ0LnQwLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aGlzLmxvZ291dCgpOwogICAgICAgICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiAnaG9tZScKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgaWYgKCEoX2NvbnRleHQ0LnQwLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDAzKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDIxOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aGlzLmxvZ291dCgpOwogICAgICAgICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiAnaG9tZScKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgICAgaWYgKCEoX2NvbnRleHQ0LnQwLnJlc3BvbnNlLnN0YXR1cyA9PT0gNTAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQ0LnQwLnJlc3BvbnNlKTsKCiAgICAgICAgICAgICAgY2FzZSAyNToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDQudDAucmVzcG9uc2UpOwoKICAgICAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0LCB0aGlzLCBbWzIsIDldXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHNlbmRUaXAoX3g5LCBfeDEwLCBfeDExKSB7CiAgICAgICAgcmV0dXJuIF9zZW5kVGlwLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBzZW5kVGlwOwogICAgfSgpCiAgfSwgewogICAga2V5OiAiZWRpdFJldmlldyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2VkaXRSZXZpZXcgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KHJldmlld19pZCwgbGF0ZXN0VHgsIHVzZXIsIHBsYWNlX2lkLCByZXZpZXdfYm9keSwgc3RhcnMsIGltYWdlSGFzaGVzLCByZXZpZXdfcGF5d2FsbCkgewogICAgICAgIHZhciB1cmwsIHRva2VuLCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHVybCA9IHRoaXMuYmFzZV91cmwgKyAiL2FwaS9yZXZpZXciOwogICAgICAgICAgICAgICAgdG9rZW4gPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS50b2tlbik7CiAgICAgICAgICAgICAgICBfY29udGV4dDUucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gQXhpb3MucHV0KHVybCwgSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgICAiaWQiOiByZXZpZXdfaWQsCiAgICAgICAgICAgICAgICAgICJsYXRlc3RUeCI6IGxhdGVzdFR4LAogICAgICAgICAgICAgICAgICAidXNlciI6IHVzZXIuaWQsCiAgICAgICAgICAgICAgICAgICJwbGFjZUlkIjogcGxhY2VfaWQsCiAgICAgICAgICAgICAgICAgICJyZXZpZXdCb2R5IjogcmV2aWV3X2JvZHksCiAgICAgICAgICAgICAgICAgICJwaG90b3MiOiBpbWFnZUhhc2hlcywKICAgICAgICAgICAgICAgICAgInJhdGluZ3MiOiB7CiAgICAgICAgICAgICAgICAgICAgInF1YWxpdHkiOiBzdGFycy5xdWFsaXR5LnJhdGUsCiAgICAgICAgICAgICAgICAgICAgImV4cGVyaWVuY2UiOiBzdGFycy5leHBlcmllbmNlLnJhdGUsCiAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogc3RhcnMudmFsdWUucmF0ZQogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAicGF5d2FsbCI6IHsKICAgICAgICAgICAgICAgICAgICAiY29zdCI6IHJldmlld19wYXl3YWxsCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLCB7CiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAnQ29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnLAogICAgICAgICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogIkJlYXJlciAiLmNvbmNhdCh0b2tlbi50b2tlbikKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0NS5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoInJldHVybiIsIHJlcyk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5wcmV2ID0gOTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS50MCA9IF9jb250ZXh0NVsiY2F0Y2giXSgyKTsKCiAgICAgICAgICAgICAgICBpZiAoIShfY29udGV4dDUudDAucmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRoaXMubG9nb3V0KCk7CiAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgIG5hbWU6ICdob21lJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBpZiAoIShfY29udGV4dDUudDAucmVzcG9uc2Uuc3RhdHVzID09PSA0MDMpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRoaXMubG9nb3V0KCk7CiAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgIG5hbWU6ICdob21lJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQ1LnQwLnJlc3BvbnNlKTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSwgdGhpcywgW1syLCA5XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBlZGl0UmV2aWV3KF94MTIsIF94MTMsIF94MTQsIF94MTUsIF94MTYsIF94MTcsIF94MTgsIF94MTkpIHsKICAgICAgICByZXR1cm4gX2VkaXRSZXZpZXcuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGVkaXRSZXZpZXc7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJnZXRQbGFjZVJldmlld3MiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXRQbGFjZVJldmlld3MgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KHBsYWNlX2lkKSB7CiAgICAgICAgdmFyIHVybCwgdG9rZW4sIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdXJsID0gdGhpcy5iYXNlX3VybCArICIvYXBpL3Jldmlld3M/ZmlsdGVyPXBsYWNlJmlkPSIgKyBwbGFjZV9pZDsKICAgICAgICAgICAgICAgIHRva2VuID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UudG9rZW4pOwogICAgICAgICAgICAgICAgX2NvbnRleHQ2LnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIEF4aW9zLmdldCh1cmwsIHsKICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCcsCiAgICAgICAgICAgICAgICAgICAgIkF1dGhvcml6YXRpb24iOiAiQmVhcmVyICIgKyB0b2tlbi50b2tlbgogICAgICAgICAgICAgICAgICB9IC8vd2l0aENyZWRlbnRpYWxzOiB0cnVlCgogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Ni5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoInJldHVybiIsIHJlcyk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5wcmV2ID0gOTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni50MCA9IF9jb250ZXh0NlsiY2F0Y2giXSgyKTsKCiAgICAgICAgICAgICAgICBpZiAoIShfY29udGV4dDYudDAucmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRoaXMubG9nb3V0KCk7CiAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgIG5hbWU6ICdob21lJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBpZiAoIShfY29udGV4dDYudDAucmVzcG9uc2Uuc3RhdHVzID09PSA0MDMpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRoaXMubG9nb3V0KCk7CiAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgIG5hbWU6ICdob21lJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQ2LnQwLnJlc3BvbnNlKTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNiwgdGhpcywgW1syLCA5XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRQbGFjZVJldmlld3MoX3gyMCkgewogICAgICAgIHJldHVybiBfZ2V0UGxhY2VSZXZpZXdzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXRQbGFjZVJldmlld3M7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJ1cHZvdGVSZXZpZXciLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF91cHZvdGVSZXZpZXcgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KHVzZXJfbmFtZSwgcmV2aWV3X2lkKSB7CiAgICAgICAgdmFyIHVybCwgdG9rZW4sIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdXJsID0gdGhpcy5iYXNlX3VybCArICIvYXBpL3Vwdm90ZSI7CiAgICAgICAgICAgICAgICB0b2tlbiA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLnRva2VuKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBBeGlvcy5wb3N0KHVybCwgSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgICAidXNlcm5hbWUiOiB1c2VyX25hbWUsCiAgICAgICAgICAgICAgICAgICJyZXZpZXdJZCI6IHJldmlld19pZAogICAgICAgICAgICAgICAgfSksIHsKICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCcsCiAgICAgICAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAiQmVhcmVyICIuY29uY2F0KHRva2VuLnRva2VuKQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQ3LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdCgicmV0dXJuIiwgcmVzKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQ3LnByZXYgPSA5OwogICAgICAgICAgICAgICAgX2NvbnRleHQ3LnQwID0gX2NvbnRleHQ3WyJjYXRjaCJdKDIpOwoKICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0Ny50MC5yZXNwb25zZS5zdGF0dXMgPT09IDQwMSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhpcy5sb2dvdXQoKTsKICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogJ2hvbWUnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0Ny50MC5yZXNwb25zZS5zdGF0dXMgPT09IDQwMykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAyMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhpcy5sb2dvdXQoKTsKICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogJ2hvbWUnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDcudDAucmVzcG9uc2UpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3LCB0aGlzLCBbWzIsIDldXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHVwdm90ZVJldmlldyhfeDIxLCBfeDIyKSB7CiAgICAgICAgcmV0dXJuIF91cHZvdGVSZXZpZXcuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHVwdm90ZVJldmlldzsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImRvd25SZXZpZXciLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9kb3duUmV2aWV3ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOCh1c2VyX25hbWUsIHJldmlld19pZCkgewogICAgICAgIHZhciB1cmwsIHRva2VuLCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHVybCA9IHRoaXMuYmFzZV91cmwgKyAiL2FwaS9kb3dudm90ZSI7CiAgICAgICAgICAgICAgICB0b2tlbiA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLnRva2VuKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBBeGlvcy5wb3N0KHVybCwgSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgICAidXNlcm5hbWUiOiB1c2VyX25hbWUsCiAgICAgICAgICAgICAgICAgICJyZXZpZXdJZCI6IHJldmlld19pZAogICAgICAgICAgICAgICAgfSksIHsKICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCcsCiAgICAgICAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAiQmVhcmVyICIuY29uY2F0KHRva2VuLnRva2VuKQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQ4LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmFicnVwdCgicmV0dXJuIiwgcmVzKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQ4LnByZXYgPSA5OwogICAgICAgICAgICAgICAgX2NvbnRleHQ4LnQwID0gX2NvbnRleHQ4WyJjYXRjaCJdKDIpOwoKICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0OC50MC5yZXNwb25zZS5zdGF0dXMgPT09IDQwMSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhpcy5sb2dvdXQoKTsKICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogJ2hvbWUnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0OC50MC5yZXNwb25zZS5zdGF0dXMgPT09IDQwMykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAyMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhpcy5sb2dvdXQoKTsKICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogJ2hvbWUnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDgudDAucmVzcG9uc2UpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU4LCB0aGlzLCBbWzIsIDldXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGRvd25SZXZpZXcoX3gyMywgX3gyNCkgewogICAgICAgIHJldHVybiBfZG93blJldmlldy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZG93blJldmlldzsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImRlbGV0ZVJldmlldyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2RlbGV0ZVJldmlldyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkocmV2aWV3X2lkKSB7CiAgICAgICAgdmFyIHVybCwgdG9rZW4sIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDkucHJldiA9IF9jb250ZXh0OS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdXJsID0gdGhpcy5iYXNlX3VybCArICIvYXBpL3Jldmlldy8iICsgcmV2aWV3X2lkOwogICAgICAgICAgICAgICAgdG9rZW4gPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS50b2tlbik7CiAgICAgICAgICAgICAgICBfY29udGV4dDkucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gQXhpb3MuZGVsZXRlKHVybCwgewogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04JywKICAgICAgICAgICAgICAgICAgICAiQXV0aG9yaXphdGlvbiI6ICJCZWFyZXIgIiArIHRva2VuLnRva2VuCiAgICAgICAgICAgICAgICAgIH0gLy93aXRoQ3JlZGVudGlhbHM6IHRydWUKCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQ5LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LmFicnVwdCgicmV0dXJuIiwgcmVzKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQ5LnByZXYgPSA5OwogICAgICAgICAgICAgICAgX2NvbnRleHQ5LnQwID0gX2NvbnRleHQ5WyJjYXRjaCJdKDIpOwoKICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0OS50MC5yZXNwb25zZS5zdGF0dXMgPT09IDQwMSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhpcy5sb2dvdXQoKTsKICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogJ2hvbWUnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0OS50MC5yZXNwb25zZS5zdGF0dXMgPT09IDQwMykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAyMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhpcy5sb2dvdXQoKTsKICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogJ2hvbWUnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDkudDAucmVzcG9uc2UpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU5LCB0aGlzLCBbWzIsIDldXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGRlbGV0ZVJldmlldyhfeDI1KSB7CiAgICAgICAgcmV0dXJuIF9kZWxldGVSZXZpZXcuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGRlbGV0ZVJldmlldzsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImJ1eVJldmlldyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2J1eVJldmlldyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKHJldmlld19pZCkgewogICAgICAgIHZhciB1cmwsIHRva2VuLCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEwLnByZXYgPSBfY29udGV4dDEwLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB1cmwgPSB0aGlzLmJhc2VfdXJsICsgIi9hcGkvcmV2aWV3LyIgKyByZXZpZXdfaWQgKyAnL3B1cmNoYXNlJzsKICAgICAgICAgICAgICAgIHRva2VuID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UudG9rZW4pOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2codG9rZW4pOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5wcmV2ID0gMzsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gQXhpb3MucG9zdCh1cmwsIHt9LCB7CiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAnQ29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnLAogICAgICAgICAgICAgICAgICAgICJBdXRob3JpemF0aW9uIjogIkJlYXJlciAiICsgdG9rZW4udG9rZW4KICAgICAgICAgICAgICAgICAgfSAvL3dpdGhDcmVkZW50aWFsczogdHJ1ZQoKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDEwLnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5hYnJ1cHQoInJldHVybiIsIHJlcyk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLnByZXYgPSAxMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAudDAgPSBfY29udGV4dDEwWyJjYXRjaCJdKDMpOwoKICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0MTAudDAucmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aGlzLmxvZ291dCgpOwogICAgICAgICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiAnaG9tZScKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMjM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0MTAudDAucmVzcG9uc2Uuc3RhdHVzID09PSA0MDMpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aGlzLmxvZ291dCgpOwogICAgICAgICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiAnaG9tZScKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMjM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQxMC50MC5yZXNwb25zZSk7CgogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMCwgdGhpcywgW1szLCAxMF1dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gYnV5UmV2aWV3KF94MjYpIHsKICAgICAgICByZXR1cm4gX2J1eVJldmlldy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gYnV5UmV2aWV3OwogICAgfSgpCiAgfSwgewogICAga2V5OiAiZ2V0UmVjZW50QWN0aXZpdGllcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldFJlY2VudEFjdGl2aXRpZXMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMSgpIHsKICAgICAgICB2YXIgdXJsLCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMSQoX2NvbnRleHQxMSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDExLnByZXYgPSBfY29udGV4dDExLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB1cmwgPSB0aGlzLmJhc2VfdXJsICsgIi9yZWNlbnRzIjsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTEucHJldiA9IDE7CiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIEF4aW9zLmdldCh1cmwsIHsKICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCcKICAgICAgICAgICAgICAgICAgfSAvL3dpdGhDcmVkZW50aWFsczogdHJ1ZQoKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDExLnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5hYnJ1cHQoInJldHVybiIsIHJlcy5kYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5wcmV2ID0gODsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTEudDAgPSBfY29udGV4dDExWyJjYXRjaCJdKDEpOwoKICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0MTEudDAucmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aGlzLmxvZ291dCgpOwogICAgICAgICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiAnaG9tZScKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0MTEudDAucmVzcG9uc2Uuc3RhdHVzID09PSA0MDMpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aGlzLmxvZ291dCgpOwogICAgICAgICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiAnaG9tZScKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQxMS50MC5yZXNwb25zZSk7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMSwgdGhpcywgW1sxLCA4XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRSZWNlbnRBY3Rpdml0aWVzKCkgewogICAgICAgIHJldHVybiBfZ2V0UmVjZW50QWN0aXZpdGllcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0UmVjZW50QWN0aXZpdGllczsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImxvZ291dCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbG9nb3V0KCkgewogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcicpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFJldmlld3NTZXJ2aWNlOwp9KEFwaSk7"},{"version":3,"sources":["/home/cmurray/britevue-frontend/node_modules/eslint-loader/index.js??ref--13-0!/home/cmurray/britevue-frontend/src/services/ReviewsService.ts"],"names":[],"mappings":"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","sourcesContent":["import {Api} from \"@/services/Api\";\nimport {IReview} from \"@/interfaces/IReview\";\nimport {IUser} from \"@/interfaces/IUser\";\nimport {IRating} from \"@/interfaces/IRating\";\nimport Axios from \"axios\";\nimport router from \"@/router\";\n\n\nexport class ReviewsService extends Api {\n    public async allUserReviews(id: string){\n        const token = JSON.parse(localStorage.token)\n        const url = this.base_url + `/api/reviews?filter=user&id=${id}`;\n        try {\n            const res = await Axios.get(url, {\n                headers: {  'Content-type': 'application/json; charset=UTF-8',\"Authorization\": \"Bearer \"+token.token}\n                //withCredentials: true\n            });\n            return res;\n        } catch (e) {\n            if (e.response.status === 401) {\n                this.logout();\n                router.push({name: 'home'});\n            } else if (e.response.status === 403) {\n                this.logout();\n                router.push({name: 'home'});\n            } else {\n              return e.response\n            }\n        }\n\n    }\n\n    public async getReview(review_id: string) {\n        const token = JSON.parse(localStorage.token)\n        const url = this.base_url + `/api/review/${review_id}`;\n        try {\n            const res = await Axios.get(url, {\n                headers: {  'Content-type': 'application/json; charset=UTF-8',\"Authorization\": \"Bearer \"+token.token}\n                //withCredentials: true\n            });\n            return res;\n        } catch (e) {\n            if (e.response.status === 401) {\n                this.logout();\n                router.push({name: 'home'});\n            } else if (e.response.status === 403) {\n                this.logout();\n                router.push({name: 'home'});\n            } else {\n              return e.response\n                //...\n            }\n        }\n\n\n    }\n\n    public async createReview(user: IUser, place_id: string, review_body: string, stars: any,imageHashes?: any, review_paywall?: number){\n        const url = this.base_url + `/api/review`;\n        const token = JSON.parse(localStorage.token)\n        try {\n            const res = await Axios.post(url,\n                JSON.stringify({\n                    \"user\": user.id,\n                    \"placeId\": place_id,\n                    \"reviewBody\": review_body,\n                    \"photos\": imageHashes,\n                    \"ratings\": {\n                        \"quality\": stars.quality.rate,\n                        \"experience\": stars.experience.rate,\n                        \"value\": stars.value.rate\n                    },\n                    \"paywall\": {\n                        \"cost\": review_paywall\n                    }\n                }),\n                {\n                    headers: {\n                        'Content-type': 'application/json; charset=UTF-8','Authorization': `Bearer ${token.token}`\n                    }\n                }\n            );\n            return res;\n        } catch (e) {\n            if (e.response.status === 401) {\n                this.logout();\n                router.push({name: 'home'});\n            } else if (e.response.status === 403) {\n                this.logout();\n                router.push({name: 'home'});\n            } else {\n              return e.response\n            }\n        }\n    }\n    public async sendTip(value: any,userId: any,reviewId: any){\n        const url = this.base_url + `/api/tip`;\n        const token = JSON.parse(localStorage.token)\n        try {\n            const res = await Axios.post(url,\n                JSON.stringify({\n                    \"tipUser\": userId,\n                    \"amount\": value,\n                    \"reviewTx\": reviewId\n                }\n                ),\n                {\n                    headers: {\n                        'Content-type': 'application/json; charset=UTF-8','Authorization': `Bearer ${token.token}`\n                    }\n                }\n            );\n            return res;\n        } catch (e) {\n            if (e.response.status === 401) {\n                this.logout();\n                router.push({name: 'home'});\n            } else if (e.response.status === 403) {\n                this.logout();\n                router.push({name: 'home'});\n            }else if (e.response.status === 500) {\n                return e.response;\n            }\n            else {\n                return e.response;\n            }\n        }\n    }\n\n    public async editReview(review_id: string, latestTx: string, user: IUser, place_id: string, review_body: string, stars: any, imageHashes?: any, review_paywall?: number) {\n        const url = this.base_url + `/api/review`;\n        const token = JSON.parse(localStorage.token)\n        try {\n\n            const res = await Axios.put(url,\n                JSON.stringify({\n                    \"id\": review_id,\n                    \"latestTx\": latestTx,\n                    \"user\": user.id,\n                    \"placeId\": place_id,\n                    \"reviewBody\": review_body,\n                    \"photos\": imageHashes,\n                    \"ratings\": {\n                        \"quality\": stars.quality.rate,\n                        \"experience\": stars.experience.rate,\n                        \"value\": stars.value.rate\n                    },\n                    \"paywall\": {\n                        \"cost\": review_paywall\n                    }\n                }),\n                {\n                    headers: {\n                        'Content-type': 'application/json; charset=UTF-8','Authorization': `Bearer ${token.token}`\n                    }\n                }\n            );\n            return res;\n\n        } catch (e) {\n            if (e.response.status === 401) {\n                this.logout();\n                router.push({name: 'home'});\n            } else if (e.response.status === 403) {\n                this.logout();\n                router.push({name: 'home'});\n            } else {\n              return e.response\n            }\n        }\n\n    }\n\n    public async getPlaceReviews(place_id: string) {\n        const url = this.base_url + `/api/reviews?filter=place&id=` + place_id;\n        const token = JSON.parse(localStorage.token);\n        try {\n            const res = await Axios.get(url, {\n                headers: {  'Content-type': 'application/json; charset=UTF-8',\"Authorization\": \"Bearer \"+token.token}\n                //withCredentials: true\n            });\n            return res;\n        } catch (e) {\n            if (e.response.status === 401) {\n                this.logout();\n                router.push({name: 'home'});\n            } else if (e.response.status === 403) {\n                this.logout();\n                router.push({name: 'home'});\n            } else {\n              return e.response\n            }\n        }\n\n    }\n\n    public async upvoteReview(user_name: string, review_id: string) {\n        const url = this.base_url + `/api/upvote`;\n        const token = JSON.parse(localStorage.token);\n        try {\n            const res = await Axios.post(url,\n                JSON.stringify({\n                    \"username\": user_name,\n                    \"reviewId\": review_id\n                }),\n                {\n                    headers: {\n                        'Content-type': 'application/json; charset=UTF-8','Authorization': `Bearer ${token.token}`\n                    }\n                }\n            );\n            return res;\n        } catch (e) {\n            if (e.response.status === 401) {\n                this.logout();\n                router.push({name: 'home'});\n            } else if (e.response.status === 403) {\n                this.logout();\n                router.push({name: 'home'});\n            } else {\n              return e.response\n            }\n        }\n    }\n\n    public async downReview(user_name: string, review_id: string) {\n        const url = this.base_url + `/api/downvote`;\n        const token = JSON.parse(localStorage.token);\n        try {\n            const res = await Axios.post(url,\n                JSON.stringify({\n                    \"username\": user_name,\n                    \"reviewId\": review_id\n                }),\n                {\n                    headers: {\n                        'Content-type': 'application/json; charset=UTF-8','Authorization': `Bearer ${token.token}`\n                    }\n                }\n            );\n            return res;\n        } catch (e) {\n            if (e.response.status === 401) {\n                this.logout();\n                router.push({name: 'home'});\n            } else if (e.response.status === 403) {\n                this.logout();\n                router.push({name: 'home'});\n            } else {\n              return e.response\n            }\n        }\n\n    }\n\n    public async deleteReview(review_id: string) {\n        const url = this.base_url + `/api/review/` + review_id;\n        const token = JSON.parse(localStorage.token)\n        try {\n            const res = await Axios.delete(url, {\n                headers: {  'Content-type': 'application/json; charset=UTF-8',\"Authorization\": \"Bearer \"+token.token}\n                //withCredentials: true\n            });\n            return res;\n\n        } catch (e) {\n            if (e.response.status === 401) {\n                this.logout();\n                router.push({name: 'home'});\n            } else if (e.response.status === 403) {\n                this.logout();\n                router.push({name: 'home'});\n            } else {\n              return e.response\n            }\n        }\n\n    }\n\n    public async buyReview(review_id: string) {\n        const url = this.base_url + `/api/review/` + review_id +'/purchase';\n        const token = JSON.parse(localStorage.token)\n        console.log(token)\n        try {\n            const res = await Axios.post(url, {}, {\n                headers: {  'Content-type': 'application/json; charset=UTF-8',\"Authorization\": \"Bearer \"+token.token}\n                //withCredentials: true\n            });\n            return res;\n\n        } catch (e) {\n            if (e.response.status === 401) {\n                this.logout();\n                router.push({name: 'home'});\n            } else if (e.response.status === 403) {\n                this.logout();\n                router.push({name: 'home'});\n            } else {\n              return e.response\n            }\n        }\n\n    }\n    public async getRecentActivities() {\n        const url = this.base_url + `/recents`;\n        try {\n            const res = await Axios.get(url, {\n                headers: {  'Content-type': 'application/json; charset=UTF-8'}\n                //withCredentials: true\n            });\n            return res.data;\n        } catch (e) {\n\n            if (e.response.status === 401) {\n                this.logout();\n                router.push({name: 'home'});\n            } else if (e.response.status === 403) {\n                this.logout();\n                router.push({name: 'home'});\n            } else {\n              return e.response\n            }\n        }\n\n    }\n\n    logout() {\n        localStorage.removeItem('user');\n    }\n\n}\n"],"sourceRoot":""}]}